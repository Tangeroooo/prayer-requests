var Lc=t=>{throw TypeError(t)};var vo=(t,e,r)=>e.has(t)||Lc("Cannot "+r);var w=(t,e,r)=>(vo(t,e,"read from private field"),r?r.call(t):e.get(t)),$=(t,e,r)=>e.has(t)?Lc("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),P=(t,e,r,n)=>(vo(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),B=(t,e,r)=>(vo(t,e,"access private method"),r);var Ui=(t,e,r,n)=>({set _(s){P(t,e,s,r)},get _(){return w(t,e,n)}});function sg(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function ig(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zh={exports:{}},Ga={},ef={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ti=Symbol.for("react.element"),ag=Symbol.for("react.portal"),og=Symbol.for("react.fragment"),lg=Symbol.for("react.strict_mode"),ug=Symbol.for("react.profiler"),cg=Symbol.for("react.provider"),dg=Symbol.for("react.context"),hg=Symbol.for("react.forward_ref"),fg=Symbol.for("react.suspense"),pg=Symbol.for("react.memo"),mg=Symbol.for("react.lazy"),Dc=Symbol.iterator;function gg(t){return t===null||typeof t!="object"?null:(t=Dc&&t[Dc]||t["@@iterator"],typeof t=="function"?t:null)}var tf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rf=Object.assign,nf={};function ys(t,e,r){this.props=t,this.context=e,this.refs=nf,this.updater=r||tf}ys.prototype.isReactComponent={};ys.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ys.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sf(){}sf.prototype=ys.prototype;function Eu(t,e,r){this.props=t,this.context=e,this.refs=nf,this.updater=r||tf}var bu=Eu.prototype=new sf;bu.constructor=Eu;rf(bu,ys.prototype);bu.isPureReactComponent=!0;var Mc=Array.isArray,af=Object.prototype.hasOwnProperty,Cu={current:null},of={key:!0,ref:!0,__self:!0,__source:!0};function lf(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)af.call(e,n)&&!of.hasOwnProperty(n)&&(s[n]=e[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Ti,type:t,key:i,ref:a,props:s,_owner:Cu.current}}function yg(t,e){return{$$typeof:Ti,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ju(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ti}function vg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Fc=/\/+/g;function wo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?vg(""+t.key):e.toString(36)}function sa(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ti:case ag:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+wo(a,0):n,Mc(s)?(r="",t!=null&&(r=t.replace(Fc,"$&/")+"/"),sa(s,e,r,"",function(u){return u})):s!=null&&(ju(s)&&(s=yg(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Fc,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",Mc(t))for(var o=0;o<t.length;o++){i=t[o];var l=n+wo(i,o);a+=sa(i,e,r,l,s)}else if(l=gg(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=n+wo(i,o++),a+=sa(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function $i(t,e,r){if(t==null)return t;var n=[],s=0;return sa(t,n,"","",function(i){return e.call(r,i,s++)}),n}function wg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var De={current:null},ia={transition:null},_g={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:ia,ReactCurrentOwner:Cu};function uf(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:$i,forEach:function(t,e,r){$i(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return $i(t,function(){e++}),e},toArray:function(t){return $i(t,function(e){return e})||[]},only:function(t){if(!ju(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};W.Component=ys;W.Fragment=og;W.Profiler=ug;W.PureComponent=Eu;W.StrictMode=lg;W.Suspense=fg;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_g;W.act=uf;W.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=rf({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Cu.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)af.call(e,l)&&!of.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Ti,type:t.type,key:s,ref:i,props:n,_owner:a}};W.createContext=function(t){return t={$$typeof:dg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cg,_context:t},t.Consumer=t};W.createElement=lf;W.createFactory=function(t){var e=lf.bind(null,t);return e.type=t,e};W.createRef=function(){return{current:null}};W.forwardRef=function(t){return{$$typeof:hg,render:t}};W.isValidElement=ju;W.lazy=function(t){return{$$typeof:mg,_payload:{_status:-1,_result:t},_init:wg}};W.memo=function(t,e){return{$$typeof:pg,type:t,compare:e===void 0?null:e}};W.startTransition=function(t){var e=ia.transition;ia.transition={};try{t()}finally{ia.transition=e}};W.unstable_act=uf;W.useCallback=function(t,e){return De.current.useCallback(t,e)};W.useContext=function(t){return De.current.useContext(t)};W.useDebugValue=function(){};W.useDeferredValue=function(t){return De.current.useDeferredValue(t)};W.useEffect=function(t,e){return De.current.useEffect(t,e)};W.useId=function(){return De.current.useId()};W.useImperativeHandle=function(t,e,r){return De.current.useImperativeHandle(t,e,r)};W.useInsertionEffect=function(t,e){return De.current.useInsertionEffect(t,e)};W.useLayoutEffect=function(t,e){return De.current.useLayoutEffect(t,e)};W.useMemo=function(t,e){return De.current.useMemo(t,e)};W.useReducer=function(t,e,r){return De.current.useReducer(t,e,r)};W.useRef=function(t){return De.current.useRef(t)};W.useState=function(t){return De.current.useState(t)};W.useSyncExternalStore=function(t,e,r){return De.current.useSyncExternalStore(t,e,r)};W.useTransition=function(){return De.current.useTransition()};W.version="18.3.1";ef.exports=W;var k=ef.exports;const xg=ig(k),Sg=sg({__proto__:null,default:xg},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg=k,Eg=Symbol.for("react.element"),bg=Symbol.for("react.fragment"),Cg=Object.prototype.hasOwnProperty,jg=kg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tg={key:!0,ref:!0,__self:!0,__source:!0};function cf(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)Cg.call(e,n)&&!Tg.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Eg,type:t,key:i,ref:a,props:s,_owner:jg.current}}Ga.Fragment=bg;Ga.jsx=cf;Ga.jsxs=cf;Zh.exports=Ga;var d=Zh.exports,df={exports:{}},tt={},hf={exports:{}},ff={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(b,N){var L=b.length;b.push(N);e:for(;0<L;){var G=L-1>>>1,Z=b[G];if(0<s(Z,N))b[G]=N,b[L]=Z,L=G;else break e}}function r(b){return b.length===0?null:b[0]}function n(b){if(b.length===0)return null;var N=b[0],L=b.pop();if(L!==N){b[0]=L;e:for(var G=0,Z=b.length,At=Z>>>1;G<At;){var It=2*(G+1)-1,Es=b[It],Lr=It+1,Ii=b[Lr];if(0>s(Es,L))Lr<Z&&0>s(Ii,Es)?(b[G]=Ii,b[Lr]=L,G=Lr):(b[G]=Es,b[It]=L,G=It);else if(Lr<Z&&0>s(Ii,L))b[G]=Ii,b[Lr]=L,G=Lr;else break e}}return N}function s(b,N){var L=b.sortIndex-N.sortIndex;return L!==0?L:b.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,h=null,f=3,y=!1,v=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(b){for(var N=r(u);N!==null;){if(N.callback===null)n(u);else if(N.startTime<=b)n(u),N.sortIndex=N.expirationTime,e(l,N);else break;N=r(u)}}function x(b){if(_=!1,g(b),!v)if(r(l)!==null)v=!0,we(E);else{var N=r(u);N!==null&&U(x,N.startTime-b)}}function E(b,N){v=!1,_&&(_=!1,m(R),R=-1),y=!0;var L=f;try{for(g(N),h=r(l);h!==null&&(!(h.expirationTime>N)||b&&!q());){var G=h.callback;if(typeof G=="function"){h.callback=null,f=h.priorityLevel;var Z=G(h.expirationTime<=N);N=t.unstable_now(),typeof Z=="function"?h.callback=Z:h===r(l)&&n(l),g(N)}else n(l);h=r(l)}if(h!==null)var At=!0;else{var It=r(u);It!==null&&U(x,It.startTime-N),At=!1}return At}finally{h=null,f=L,y=!1}}var C=!1,j=null,R=-1,F=5,O=-1;function q(){return!(t.unstable_now()-O<F)}function Te(){if(j!==null){var b=t.unstable_now();O=b;var N=!0;try{N=j(!0,b)}finally{N?ve():(C=!1,j=null)}}else C=!1}var ve;if(typeof p=="function")ve=function(){p(Te)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,J=z.port2;z.port1.onmessage=Te,ve=function(){J.postMessage(null)}}else ve=function(){S(Te,0)};function we(b){j=b,C||(C=!0,ve())}function U(b,N){R=S(function(){b(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(b){b.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,we(E))},t.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<b?Math.floor(1e3/b):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(b){switch(f){case 1:case 2:case 3:var N=3;break;default:N=f}var L=f;f=N;try{return b()}finally{f=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(b,N){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var L=f;f=b;try{return N()}finally{f=L}},t.unstable_scheduleCallback=function(b,N,L){var G=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?G+L:G):L=G,b){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=L+Z,b={id:c++,callback:N,priorityLevel:b,startTime:L,expirationTime:Z,sortIndex:-1},L>G?(b.sortIndex=L,e(u,b),r(l)===null&&b===r(u)&&(_?(m(R),R=-1):_=!0,U(x,L-G))):(b.sortIndex=Z,e(l,b),v||y||(v=!0,we(E))),b},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(b){var N=f;return function(){var L=f;f=N;try{return b.apply(this,arguments)}finally{f=L}}}})(ff);hf.exports=ff;var Rg=hf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og=k,et=Rg;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pf=new Set,Js={};function gn(t,e){cs(t,e),cs(t+"Capture",e)}function cs(t,e){for(Js[t]=e,t=0;t<e.length;t++)pf.add(e[t])}var Ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rl=Object.prototype.hasOwnProperty,Pg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zc={},Bc={};function Ng(t){return rl.call(Bc,t)?!0:rl.call(zc,t)?!1:Pg.test(t)?Bc[t]=!0:(zc[t]=!0,!1)}function Ag(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ig(t,e,r,n){if(e===null||typeof e>"u"||Ag(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Me(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){je[t]=new Me(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];je[e]=new Me(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){je[t]=new Me(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){je[t]=new Me(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){je[t]=new Me(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){je[t]=new Me(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){je[t]=new Me(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){je[t]=new Me(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){je[t]=new Me(t,5,!1,t.toLowerCase(),null,!1,!1)});var Tu=/[\-:]([a-z])/g;function Ru(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Tu,Ru);je[e]=new Me(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Tu,Ru);je[e]=new Me(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Tu,Ru);je[e]=new Me(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){je[t]=new Me(t,1,!1,t.toLowerCase(),null,!1,!1)});je.xlinkHref=new Me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){je[t]=new Me(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ou(t,e,r,n){var s=je.hasOwnProperty(e)?je[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ig(e,r,s,n)&&(r=null),n||s===null?Ng(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Yt=Og.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Li=Symbol.for("react.element"),Nn=Symbol.for("react.portal"),An=Symbol.for("react.fragment"),Pu=Symbol.for("react.strict_mode"),nl=Symbol.for("react.profiler"),mf=Symbol.for("react.provider"),gf=Symbol.for("react.context"),Nu=Symbol.for("react.forward_ref"),sl=Symbol.for("react.suspense"),il=Symbol.for("react.suspense_list"),Au=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),yf=Symbol.for("react.offscreen"),qc=Symbol.iterator;function bs(t){return t===null||typeof t!="object"?null:(t=qc&&t[qc]||t["@@iterator"],typeof t=="function"?t:null)}var ae=Object.assign,_o;function As(t){if(_o===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);_o=e&&e[1]||""}return`
`+_o+t}var xo=!1;function So(t,e){if(!t||xo)return"";xo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{xo=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?As(t):""}function Ug(t){switch(t.tag){case 5:return As(t.type);case 16:return As("Lazy");case 13:return As("Suspense");case 19:return As("SuspenseList");case 0:case 2:case 15:return t=So(t.type,!1),t;case 11:return t=So(t.type.render,!1),t;case 1:return t=So(t.type,!0),t;default:return""}}function al(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case An:return"Fragment";case Nn:return"Portal";case nl:return"Profiler";case Pu:return"StrictMode";case sl:return"Suspense";case il:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case gf:return(t.displayName||"Context")+".Consumer";case mf:return(t._context.displayName||"Context")+".Provider";case Nu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Au:return e=t.displayName||null,e!==null?e:al(t.type)||"Memo";case nr:e=t._payload,t=t._init;try{return al(t(e))}catch{}}return null}function $g(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return al(e);case 8:return e===Pu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Pr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Lg(t){var e=vf(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Di(t){t._valueTracker||(t._valueTracker=Lg(t))}function wf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=vf(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ya(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ol(t,e){var r=e.checked;return ae({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Wc(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Pr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _f(t,e){e=e.checked,e!=null&&Ou(t,"checked",e,!1)}function ll(t,e){_f(t,e);var r=Pr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ul(t,e.type,r):e.hasOwnProperty("defaultValue")&&ul(t,e.type,Pr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Kc(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function ul(t,e,r){(e!=="number"||ya(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Is=Array.isArray;function Kn(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Pr(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function cl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return ae({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vc(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(T(92));if(Is(r)){if(1<r.length)throw Error(T(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Pr(r)}}function xf(t,e){var r=Pr(e.value),n=Pr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Hc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Sf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Sf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Mi,kf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Mi=Mi||document.createElement("div"),Mi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ys(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dg=["Webkit","ms","Moz","O"];Object.keys(Ms).forEach(function(t){Dg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ms[e]=Ms[t]})});function Ef(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ms.hasOwnProperty(t)&&Ms[t]?(""+e).trim():e+"px"}function bf(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Ef(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Mg=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hl(t,e){if(e){if(Mg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function fl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pl=null;function Iu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ml=null,Vn=null,Hn=null;function Gc(t){if(t=Pi(t)){if(typeof ml!="function")throw Error(T(280));var e=t.stateNode;e&&(e=Za(e),ml(t.stateNode,t.type,e))}}function Cf(t){Vn?Hn?Hn.push(t):Hn=[t]:Vn=t}function jf(){if(Vn){var t=Vn,e=Hn;if(Hn=Vn=null,Gc(t),e)for(t=0;t<e.length;t++)Gc(e[t])}}function Tf(t,e){return t(e)}function Rf(){}var ko=!1;function Of(t,e,r){if(ko)return t(e,r);ko=!0;try{return Tf(t,e,r)}finally{ko=!1,(Vn!==null||Hn!==null)&&(Rf(),jf())}}function Xs(t,e){var r=t.stateNode;if(r===null)return null;var n=Za(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(T(231,e,typeof r));return r}var gl=!1;if(Ht)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){gl=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{gl=!1}function Fg(t,e,r,n,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Fs=!1,va=null,wa=!1,yl=null,zg={onError:function(t){Fs=!0,va=t}};function Bg(t,e,r,n,s,i,a,o,l){Fs=!1,va=null,Fg.apply(zg,arguments)}function qg(t,e,r,n,s,i,a,o,l){if(Bg.apply(this,arguments),Fs){if(Fs){var u=va;Fs=!1,va=null}else throw Error(T(198));wa||(wa=!0,yl=u)}}function yn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Pf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Qc(t){if(yn(t)!==t)throw Error(T(188))}function Wg(t){var e=t.alternate;if(!e){if(e=yn(t),e===null)throw Error(T(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Qc(s),t;if(i===n)return Qc(s),e;i=i.sibling}throw Error(T(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(T(189))}}if(r.alternate!==n)throw Error(T(190))}if(r.tag!==3)throw Error(T(188));return r.stateNode.current===r?t:e}function Nf(t){return t=Wg(t),t!==null?Af(t):null}function Af(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Af(t);if(e!==null)return e;t=t.sibling}return null}var If=et.unstable_scheduleCallback,Jc=et.unstable_cancelCallback,Kg=et.unstable_shouldYield,Vg=et.unstable_requestPaint,ce=et.unstable_now,Hg=et.unstable_getCurrentPriorityLevel,Uu=et.unstable_ImmediatePriority,Uf=et.unstable_UserBlockingPriority,_a=et.unstable_NormalPriority,Gg=et.unstable_LowPriority,$f=et.unstable_IdlePriority,Qa=null,Rt=null;function Qg(t){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Qa,t,void 0,(t.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:Xg,Jg=Math.log,Yg=Math.LN2;function Xg(t){return t>>>=0,t===0?32:31-(Jg(t)/Yg|0)|0}var Fi=64,zi=4194304;function Us(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xa(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=Us(o):(i&=a,i!==0&&(n=Us(i)))}else a=r&~s,a!==0?n=Us(a):i!==0&&(n=Us(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-_t(e),s=1<<r,n|=t[r],e&=~s;return n}function Zg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ey(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-_t(i),o=1<<a,l=s[a];l===-1?(!(o&r)||o&n)&&(s[a]=Zg(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function vl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Lf(){var t=Fi;return Fi<<=1,!(Fi&4194240)&&(Fi=64),t}function Eo(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ri(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_t(e),t[e]=r}function ty(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-_t(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function $u(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-_t(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Q=0;function Df(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Mf,Lu,Ff,zf,Bf,wl=!1,Bi=[],xr=null,Sr=null,kr=null,Zs=new Map,ei=new Map,ar=[],ry="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yc(t,e){switch(t){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":Zs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ei.delete(e.pointerId)}}function js(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Pi(e),e!==null&&Lu(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ny(t,e,r,n,s){switch(e){case"focusin":return xr=js(xr,t,e,r,n,s),!0;case"dragenter":return Sr=js(Sr,t,e,r,n,s),!0;case"mouseover":return kr=js(kr,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Zs.set(i,js(Zs.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ei.set(i,js(ei.get(i)||null,t,e,r,n,s)),!0}return!1}function qf(t){var e=Kr(t.target);if(e!==null){var r=yn(e);if(r!==null){if(e=r.tag,e===13){if(e=Pf(r),e!==null){t.blockedOn=e,Bf(t.priority,function(){Ff(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function aa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=_l(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);pl=n,r.target.dispatchEvent(n),pl=null}else return e=Pi(r),e!==null&&Lu(e),t.blockedOn=r,!1;e.shift()}return!0}function Xc(t,e,r){aa(t)&&r.delete(e)}function sy(){wl=!1,xr!==null&&aa(xr)&&(xr=null),Sr!==null&&aa(Sr)&&(Sr=null),kr!==null&&aa(kr)&&(kr=null),Zs.forEach(Xc),ei.forEach(Xc)}function Ts(t,e){t.blockedOn===e&&(t.blockedOn=null,wl||(wl=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,sy)))}function ti(t){function e(s){return Ts(s,t)}if(0<Bi.length){Ts(Bi[0],t);for(var r=1;r<Bi.length;r++){var n=Bi[r];n.blockedOn===t&&(n.blockedOn=null)}}for(xr!==null&&Ts(xr,t),Sr!==null&&Ts(Sr,t),kr!==null&&Ts(kr,t),Zs.forEach(e),ei.forEach(e),r=0;r<ar.length;r++)n=ar[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ar.length&&(r=ar[0],r.blockedOn===null);)qf(r),r.blockedOn===null&&ar.shift()}var Gn=Yt.ReactCurrentBatchConfig,Sa=!0;function iy(t,e,r,n){var s=Q,i=Gn.transition;Gn.transition=null;try{Q=1,Du(t,e,r,n)}finally{Q=s,Gn.transition=i}}function ay(t,e,r,n){var s=Q,i=Gn.transition;Gn.transition=null;try{Q=4,Du(t,e,r,n)}finally{Q=s,Gn.transition=i}}function Du(t,e,r,n){if(Sa){var s=_l(t,e,r,n);if(s===null)Io(t,e,n,ka,r),Yc(t,n);else if(ny(s,t,e,r,n))n.stopPropagation();else if(Yc(t,n),e&4&&-1<ry.indexOf(t)){for(;s!==null;){var i=Pi(s);if(i!==null&&Mf(i),i=_l(t,e,r,n),i===null&&Io(t,e,n,ka,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Io(t,e,n,null,r)}}var ka=null;function _l(t,e,r,n){if(ka=null,t=Iu(n),t=Kr(t),t!==null)if(e=yn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Pf(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ka=t,null}function Wf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hg()){case Uu:return 1;case Uf:return 4;case _a:case Gg:return 16;case $f:return 536870912;default:return 16}default:return 16}}var vr=null,Mu=null,oa=null;function Kf(){if(oa)return oa;var t,e=Mu,r=e.length,n,s="value"in vr?vr.value:vr.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return oa=s.slice(t,1<n?1-n:void 0)}function la(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qi(){return!0}function Zc(){return!1}function rt(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qi:Zc,this.isPropagationStopped=Zc,this}return ae(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),e}var vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fu=rt(vs),Oi=ae({},vs,{view:0,detail:0}),oy=rt(Oi),bo,Co,Rs,Ja=ae({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rs&&(Rs&&t.type==="mousemove"?(bo=t.screenX-Rs.screenX,Co=t.screenY-Rs.screenY):Co=bo=0,Rs=t),bo)},movementY:function(t){return"movementY"in t?t.movementY:Co}}),ed=rt(Ja),ly=ae({},Ja,{dataTransfer:0}),uy=rt(ly),cy=ae({},Oi,{relatedTarget:0}),jo=rt(cy),dy=ae({},vs,{animationName:0,elapsedTime:0,pseudoElement:0}),hy=rt(dy),fy=ae({},vs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),py=rt(fy),my=ae({},vs,{data:0}),td=rt(my),gy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wy(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vy[t])?!!e[t]:!1}function zu(){return wy}var _y=ae({},Oi,{key:function(t){if(t.key){var e=gy[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=la(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zu,charCode:function(t){return t.type==="keypress"?la(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?la(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xy=rt(_y),Sy=ae({},Ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rd=rt(Sy),ky=ae({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zu}),Ey=rt(ky),by=ae({},vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cy=rt(by),jy=ae({},Ja,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ty=rt(jy),Ry=[9,13,27,32],Bu=Ht&&"CompositionEvent"in window,zs=null;Ht&&"documentMode"in document&&(zs=document.documentMode);var Oy=Ht&&"TextEvent"in window&&!zs,Vf=Ht&&(!Bu||zs&&8<zs&&11>=zs),nd=" ",sd=!1;function Hf(t,e){switch(t){case"keyup":return Ry.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var In=!1;function Py(t,e){switch(t){case"compositionend":return Gf(e);case"keypress":return e.which!==32?null:(sd=!0,nd);case"textInput":return t=e.data,t===nd&&sd?null:t;default:return null}}function Ny(t,e){if(In)return t==="compositionend"||!Bu&&Hf(t,e)?(t=Kf(),oa=Mu=vr=null,In=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vf&&e.locale!=="ko"?null:e.data;default:return null}}var Ay={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function id(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ay[t.type]:e==="textarea"}function Qf(t,e,r,n){Cf(n),e=Ea(e,"onChange"),0<e.length&&(r=new Fu("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Bs=null,ri=null;function Iy(t){ap(t,0)}function Ya(t){var e=Ln(t);if(wf(e))return t}function Uy(t,e){if(t==="change")return e}var Jf=!1;if(Ht){var To;if(Ht){var Ro="oninput"in document;if(!Ro){var ad=document.createElement("div");ad.setAttribute("oninput","return;"),Ro=typeof ad.oninput=="function"}To=Ro}else To=!1;Jf=To&&(!document.documentMode||9<document.documentMode)}function od(){Bs&&(Bs.detachEvent("onpropertychange",Yf),ri=Bs=null)}function Yf(t){if(t.propertyName==="value"&&Ya(ri)){var e=[];Qf(e,ri,t,Iu(t)),Of(Iy,e)}}function $y(t,e,r){t==="focusin"?(od(),Bs=e,ri=r,Bs.attachEvent("onpropertychange",Yf)):t==="focusout"&&od()}function Ly(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ya(ri)}function Dy(t,e){if(t==="click")return Ya(e)}function My(t,e){if(t==="input"||t==="change")return Ya(e)}function Fy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var St=typeof Object.is=="function"?Object.is:Fy;function ni(t,e){if(St(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!rl.call(e,s)||!St(t[s],e[s]))return!1}return!0}function ld(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ud(t,e){var r=ld(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ld(r)}}function Xf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Xf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Zf(){for(var t=window,e=ya();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ya(t.document)}return e}function qu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zy(t){var e=Zf(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Xf(r.ownerDocument.documentElement,r)){if(n!==null&&qu(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=ud(r,i);var a=ud(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var By=Ht&&"documentMode"in document&&11>=document.documentMode,Un=null,xl=null,qs=null,Sl=!1;function cd(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Sl||Un==null||Un!==ya(n)||(n=Un,"selectionStart"in n&&qu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),qs&&ni(qs,n)||(qs=n,n=Ea(xl,"onSelect"),0<n.length&&(e=new Fu("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Un)))}function Wi(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var $n={animationend:Wi("Animation","AnimationEnd"),animationiteration:Wi("Animation","AnimationIteration"),animationstart:Wi("Animation","AnimationStart"),transitionend:Wi("Transition","TransitionEnd")},Oo={},ep={};Ht&&(ep=document.createElement("div").style,"AnimationEvent"in window||(delete $n.animationend.animation,delete $n.animationiteration.animation,delete $n.animationstart.animation),"TransitionEvent"in window||delete $n.transitionend.transition);function Xa(t){if(Oo[t])return Oo[t];if(!$n[t])return t;var e=$n[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in ep)return Oo[t]=e[r];return t}var tp=Xa("animationend"),rp=Xa("animationiteration"),np=Xa("animationstart"),sp=Xa("transitionend"),ip=new Map,dd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(t,e){ip.set(t,e),gn(e,[t])}for(var Po=0;Po<dd.length;Po++){var No=dd[Po],qy=No.toLowerCase(),Wy=No[0].toUpperCase()+No.slice(1);Ar(qy,"on"+Wy)}Ar(tp,"onAnimationEnd");Ar(rp,"onAnimationIteration");Ar(np,"onAnimationStart");Ar("dblclick","onDoubleClick");Ar("focusin","onFocus");Ar("focusout","onBlur");Ar(sp,"onTransitionEnd");cs("onMouseEnter",["mouseout","mouseover"]);cs("onMouseLeave",["mouseout","mouseover"]);cs("onPointerEnter",["pointerout","pointerover"]);cs("onPointerLeave",["pointerout","pointerover"]);gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ky=new Set("cancel close invalid load scroll toggle".split(" ").concat($s));function hd(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,qg(n,e,void 0,t),t.currentTarget=null}function ap(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;hd(s,o,u),i=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;hd(s,o,u),i=l}}}if(wa)throw t=yl,wa=!1,yl=null,t}function ee(t,e){var r=e[jl];r===void 0&&(r=e[jl]=new Set);var n=t+"__bubble";r.has(n)||(op(e,t,2,!1),r.add(n))}function Ao(t,e,r){var n=0;e&&(n|=4),op(r,t,n,e)}var Ki="_reactListening"+Math.random().toString(36).slice(2);function si(t){if(!t[Ki]){t[Ki]=!0,pf.forEach(function(r){r!=="selectionchange"&&(Ky.has(r)||Ao(r,!1,t),Ao(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ki]||(e[Ki]=!0,Ao("selectionchange",!1,e))}}function op(t,e,r,n){switch(Wf(e)){case 1:var s=iy;break;case 4:s=ay;break;default:s=Du}r=s.bind(null,e,r,t),s=void 0,!gl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Io(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Kr(o),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}o=o.parentNode}}n=n.return}Of(function(){var u=i,c=Iu(r),h=[];e:{var f=ip.get(t);if(f!==void 0){var y=Fu,v=t;switch(t){case"keypress":if(la(r)===0)break e;case"keydown":case"keyup":y=xy;break;case"focusin":v="focus",y=jo;break;case"focusout":v="blur",y=jo;break;case"beforeblur":case"afterblur":y=jo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=ed;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=uy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Ey;break;case tp:case rp:case np:y=hy;break;case sp:y=Cy;break;case"scroll":y=oy;break;case"wheel":y=Ty;break;case"copy":case"cut":case"paste":y=py;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=rd}var _=(e&4)!==0,S=!_&&t==="scroll",m=_?f!==null?f+"Capture":null:f;_=[];for(var p=u,g;p!==null;){g=p;var x=g.stateNode;if(g.tag===5&&x!==null&&(g=x,m!==null&&(x=Xs(p,m),x!=null&&_.push(ii(p,x,g)))),S)break;p=p.return}0<_.length&&(f=new y(f,v,null,r,c),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&r!==pl&&(v=r.relatedTarget||r.fromElement)&&(Kr(v)||v[Gt]))break e;if((y||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,y?(v=r.relatedTarget||r.toElement,y=u,v=v?Kr(v):null,v!==null&&(S=yn(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(_=ed,x="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(_=rd,x="onPointerLeave",m="onPointerEnter",p="pointer"),S=y==null?f:Ln(y),g=v==null?f:Ln(v),f=new _(x,p+"leave",y,r,c),f.target=S,f.relatedTarget=g,x=null,Kr(c)===u&&(_=new _(m,p+"enter",v,r,c),_.target=g,_.relatedTarget=S,x=_),S=x,y&&v)t:{for(_=y,m=v,p=0,g=_;g;g=_n(g))p++;for(g=0,x=m;x;x=_n(x))g++;for(;0<p-g;)_=_n(_),p--;for(;0<g-p;)m=_n(m),g--;for(;p--;){if(_===m||m!==null&&_===m.alternate)break t;_=_n(_),m=_n(m)}_=null}else _=null;y!==null&&fd(h,f,y,_,!1),v!==null&&S!==null&&fd(h,S,v,_,!0)}}e:{if(f=u?Ln(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var E=Uy;else if(id(f))if(Jf)E=My;else{E=Ly;var C=$y}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=Dy);if(E&&(E=E(t,u))){Qf(h,E,r,c);break e}C&&C(t,f,u),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&ul(f,"number",f.value)}switch(C=u?Ln(u):window,t){case"focusin":(id(C)||C.contentEditable==="true")&&(Un=C,xl=u,qs=null);break;case"focusout":qs=xl=Un=null;break;case"mousedown":Sl=!0;break;case"contextmenu":case"mouseup":case"dragend":Sl=!1,cd(h,r,c);break;case"selectionchange":if(By)break;case"keydown":case"keyup":cd(h,r,c)}var j;if(Bu)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else In?Hf(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(Vf&&r.locale!=="ko"&&(In||R!=="onCompositionStart"?R==="onCompositionEnd"&&In&&(j=Kf()):(vr=c,Mu="value"in vr?vr.value:vr.textContent,In=!0)),C=Ea(u,R),0<C.length&&(R=new td(R,t,null,r,c),h.push({event:R,listeners:C}),j?R.data=j:(j=Gf(r),j!==null&&(R.data=j)))),(j=Oy?Py(t,r):Ny(t,r))&&(u=Ea(u,"onBeforeInput"),0<u.length&&(c=new td("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=j))}ap(h,e)})}function ii(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ea(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Xs(t,r),i!=null&&n.unshift(ii(t,i,s)),i=Xs(t,e),i!=null&&n.push(ii(t,i,s))),t=t.return}return n}function _n(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fd(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,s?(l=Xs(r,i),l!=null&&a.unshift(ii(r,l,o))):s||(l=Xs(r,i),l!=null&&a.push(ii(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var Vy=/\r\n?/g,Hy=/\u0000|\uFFFD/g;function pd(t){return(typeof t=="string"?t:""+t).replace(Vy,`
`).replace(Hy,"")}function Vi(t,e,r){if(e=pd(e),pd(t)!==e&&r)throw Error(T(425))}function ba(){}var kl=null,El=null;function bl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Cl=typeof setTimeout=="function"?setTimeout:void 0,Gy=typeof clearTimeout=="function"?clearTimeout:void 0,md=typeof Promise=="function"?Promise:void 0,Qy=typeof queueMicrotask=="function"?queueMicrotask:typeof md<"u"?function(t){return md.resolve(null).then(t).catch(Jy)}:Cl;function Jy(t){setTimeout(function(){throw t})}function Uo(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),ti(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ti(e)}function Er(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ws=Math.random().toString(36).slice(2),Tt="__reactFiber$"+ws,ai="__reactProps$"+ws,Gt="__reactContainer$"+ws,jl="__reactEvents$"+ws,Yy="__reactListeners$"+ws,Xy="__reactHandles$"+ws;function Kr(t){var e=t[Tt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Gt]||r[Tt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=gd(t);t!==null;){if(r=t[Tt])return r;t=gd(t)}return e}t=r,r=t.parentNode}return null}function Pi(t){return t=t[Tt]||t[Gt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ln(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function Za(t){return t[ai]||null}var Tl=[],Dn=-1;function Ir(t){return{current:t}}function te(t){0>Dn||(t.current=Tl[Dn],Tl[Dn]=null,Dn--)}function X(t,e){Dn++,Tl[Dn]=t.current,t.current=e}var Nr={},Ne=Ir(Nr),Ke=Ir(!1),ln=Nr;function ds(t,e){var r=t.type.contextTypes;if(!r)return Nr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ve(t){return t=t.childContextTypes,t!=null}function Ca(){te(Ke),te(Ne)}function yd(t,e,r){if(Ne.current!==Nr)throw Error(T(168));X(Ne,e),X(Ke,r)}function lp(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(T(108,$g(t)||"Unknown",s));return ae({},r,n)}function ja(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Nr,ln=Ne.current,X(Ne,t),X(Ke,Ke.current),!0}function vd(t,e,r){var n=t.stateNode;if(!n)throw Error(T(169));r?(t=lp(t,e,ln),n.__reactInternalMemoizedMergedChildContext=t,te(Ke),te(Ne),X(Ne,t)):te(Ke),X(Ke,r)}var Dt=null,eo=!1,$o=!1;function up(t){Dt===null?Dt=[t]:Dt.push(t)}function Zy(t){eo=!0,up(t)}function Ur(){if(!$o&&Dt!==null){$o=!0;var t=0,e=Q;try{var r=Dt;for(Q=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Dt=null,eo=!1}catch(s){throw Dt!==null&&(Dt=Dt.slice(t+1)),If(Uu,Ur),s}finally{Q=e,$o=!1}}return null}var Mn=[],Fn=0,Ta=null,Ra=0,it=[],at=0,un=null,qt=1,Wt="";function Fr(t,e){Mn[Fn++]=Ra,Mn[Fn++]=Ta,Ta=t,Ra=e}function cp(t,e,r){it[at++]=qt,it[at++]=Wt,it[at++]=un,un=t;var n=qt;t=Wt;var s=32-_t(n)-1;n&=~(1<<s),r+=1;var i=32-_t(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,qt=1<<32-_t(e)+s|r<<s|n,Wt=i+t}else qt=1<<i|r<<s|n,Wt=t}function Wu(t){t.return!==null&&(Fr(t,1),cp(t,1,0))}function Ku(t){for(;t===Ta;)Ta=Mn[--Fn],Mn[Fn]=null,Ra=Mn[--Fn],Mn[Fn]=null;for(;t===un;)un=it[--at],it[at]=null,Wt=it[--at],it[at]=null,qt=it[--at],it[at]=null}var Ze=null,Xe=null,re=!1,wt=null;function dp(t,e){var r=ot(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function wd(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ze=t,Xe=Er(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ze=t,Xe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=un!==null?{id:qt,overflow:Wt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ot(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ze=t,Xe=null,!0):!1;default:return!1}}function Rl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ol(t){if(re){var e=Xe;if(e){var r=e;if(!wd(t,e)){if(Rl(t))throw Error(T(418));e=Er(r.nextSibling);var n=Ze;e&&wd(t,e)?dp(n,r):(t.flags=t.flags&-4097|2,re=!1,Ze=t)}}else{if(Rl(t))throw Error(T(418));t.flags=t.flags&-4097|2,re=!1,Ze=t}}}function _d(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ze=t}function Hi(t){if(t!==Ze)return!1;if(!re)return _d(t),re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!bl(t.type,t.memoizedProps)),e&&(e=Xe)){if(Rl(t))throw hp(),Error(T(418));for(;e;)dp(t,e),e=Er(e.nextSibling)}if(_d(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Xe=Er(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Xe=null}}else Xe=Ze?Er(t.stateNode.nextSibling):null;return!0}function hp(){for(var t=Xe;t;)t=Er(t.nextSibling)}function hs(){Xe=Ze=null,re=!1}function Vu(t){wt===null?wt=[t]:wt.push(t)}var ev=Yt.ReactCurrentBatchConfig;function Os(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(T(309));var n=r.stateNode}if(!n)throw Error(T(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(T(284));if(!r._owner)throw Error(T(290,t))}return t}function Gi(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function xd(t){var e=t._init;return e(t._payload)}function fp(t){function e(m,p){if(t){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function r(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Tr(m,p),m.index=0,m.sibling=null,m}function i(m,p,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function o(m,p,g,x){return p===null||p.tag!==6?(p=qo(g,m.mode,x),p.return=m,p):(p=s(p,g),p.return=m,p)}function l(m,p,g,x){var E=g.type;return E===An?c(m,p,g.props.children,x,g.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===nr&&xd(E)===p.type)?(x=s(p,g.props),x.ref=Os(m,p,g),x.return=m,x):(x=ma(g.type,g.key,g.props,null,m.mode,x),x.ref=Os(m,p,g),x.return=m,x)}function u(m,p,g,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Wo(g,m.mode,x),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function c(m,p,g,x,E){return p===null||p.tag!==7?(p=on(g,m.mode,x,E),p.return=m,p):(p=s(p,g),p.return=m,p)}function h(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=qo(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Li:return g=ma(p.type,p.key,p.props,null,m.mode,g),g.ref=Os(m,null,p),g.return=m,g;case Nn:return p=Wo(p,m.mode,g),p.return=m,p;case nr:var x=p._init;return h(m,x(p._payload),g)}if(Is(p)||bs(p))return p=on(p,m.mode,g,null),p.return=m,p;Gi(m,p)}return null}function f(m,p,g,x){var E=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:o(m,p,""+g,x);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Li:return g.key===E?l(m,p,g,x):null;case Nn:return g.key===E?u(m,p,g,x):null;case nr:return E=g._init,f(m,p,E(g._payload),x)}if(Is(g)||bs(g))return E!==null?null:c(m,p,g,x,null);Gi(m,g)}return null}function y(m,p,g,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(g)||null,o(p,m,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Li:return m=m.get(x.key===null?g:x.key)||null,l(p,m,x,E);case Nn:return m=m.get(x.key===null?g:x.key)||null,u(p,m,x,E);case nr:var C=x._init;return y(m,p,g,C(x._payload),E)}if(Is(x)||bs(x))return m=m.get(g)||null,c(p,m,x,E,null);Gi(p,x)}return null}function v(m,p,g,x){for(var E=null,C=null,j=p,R=p=0,F=null;j!==null&&R<g.length;R++){j.index>R?(F=j,j=null):F=j.sibling;var O=f(m,j,g[R],x);if(O===null){j===null&&(j=F);break}t&&j&&O.alternate===null&&e(m,j),p=i(O,p,R),C===null?E=O:C.sibling=O,C=O,j=F}if(R===g.length)return r(m,j),re&&Fr(m,R),E;if(j===null){for(;R<g.length;R++)j=h(m,g[R],x),j!==null&&(p=i(j,p,R),C===null?E=j:C.sibling=j,C=j);return re&&Fr(m,R),E}for(j=n(m,j);R<g.length;R++)F=y(j,m,R,g[R],x),F!==null&&(t&&F.alternate!==null&&j.delete(F.key===null?R:F.key),p=i(F,p,R),C===null?E=F:C.sibling=F,C=F);return t&&j.forEach(function(q){return e(m,q)}),re&&Fr(m,R),E}function _(m,p,g,x){var E=bs(g);if(typeof E!="function")throw Error(T(150));if(g=E.call(g),g==null)throw Error(T(151));for(var C=E=null,j=p,R=p=0,F=null,O=g.next();j!==null&&!O.done;R++,O=g.next()){j.index>R?(F=j,j=null):F=j.sibling;var q=f(m,j,O.value,x);if(q===null){j===null&&(j=F);break}t&&j&&q.alternate===null&&e(m,j),p=i(q,p,R),C===null?E=q:C.sibling=q,C=q,j=F}if(O.done)return r(m,j),re&&Fr(m,R),E;if(j===null){for(;!O.done;R++,O=g.next())O=h(m,O.value,x),O!==null&&(p=i(O,p,R),C===null?E=O:C.sibling=O,C=O);return re&&Fr(m,R),E}for(j=n(m,j);!O.done;R++,O=g.next())O=y(j,m,R,O.value,x),O!==null&&(t&&O.alternate!==null&&j.delete(O.key===null?R:O.key),p=i(O,p,R),C===null?E=O:C.sibling=O,C=O);return t&&j.forEach(function(Te){return e(m,Te)}),re&&Fr(m,R),E}function S(m,p,g,x){if(typeof g=="object"&&g!==null&&g.type===An&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Li:e:{for(var E=g.key,C=p;C!==null;){if(C.key===E){if(E=g.type,E===An){if(C.tag===7){r(m,C.sibling),p=s(C,g.props.children),p.return=m,m=p;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===nr&&xd(E)===C.type){r(m,C.sibling),p=s(C,g.props),p.ref=Os(m,C,g),p.return=m,m=p;break e}r(m,C);break}else e(m,C);C=C.sibling}g.type===An?(p=on(g.props.children,m.mode,x,g.key),p.return=m,m=p):(x=ma(g.type,g.key,g.props,null,m.mode,x),x.ref=Os(m,p,g),x.return=m,m=x)}return a(m);case Nn:e:{for(C=g.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){r(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else e(m,p);p=p.sibling}p=Wo(g,m.mode,x),p.return=m,m=p}return a(m);case nr:return C=g._init,S(m,p,C(g._payload),x)}if(Is(g))return v(m,p,g,x);if(bs(g))return _(m,p,g,x);Gi(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(r(m,p.sibling),p=s(p,g),p.return=m,m=p):(r(m,p),p=qo(g,m.mode,x),p.return=m,m=p),a(m)):r(m,p)}return S}var fs=fp(!0),pp=fp(!1),Oa=Ir(null),Pa=null,zn=null,Hu=null;function Gu(){Hu=zn=Pa=null}function Qu(t){var e=Oa.current;te(Oa),t._currentValue=e}function Pl(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Qn(t,e){Pa=t,Hu=zn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(We=!0),t.firstContext=null)}function ut(t){var e=t._currentValue;if(Hu!==t)if(t={context:t,memoizedValue:e,next:null},zn===null){if(Pa===null)throw Error(T(308));zn=t,Pa.dependencies={lanes:0,firstContext:t}}else zn=zn.next=t;return e}var Vr=null;function Ju(t){Vr===null?Vr=[t]:Vr.push(t)}function mp(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Ju(e)):(r.next=s.next,s.next=r),e.interleaved=r,Qt(t,n)}function Qt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var sr=!1;function Yu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Kt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function br(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,V&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Qt(t,r)}return s=n.interleaved,s===null?(e.next=e,Ju(n)):(e.next=s.next,s.next=e),n.interleaved=e,Qt(t,r)}function ua(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,$u(t,r)}}function Sd(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Na(t,e,r,n){var s=t.updateQueue;sr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;a=0,c=u=l=null,o=i;do{var f=o.lane,y=o.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,_=o;switch(f=e,y=r,_.tag){case 1:if(v=_.payload,typeof v=="function"){h=v.call(y,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,f=typeof v=="function"?v.call(y,h,f):v,f==null)break e;h=ae({},h,f);break e;case 2:sr=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else y={eventTime:y,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=y,l=h):c=c.next=y,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);dn|=a,t.lanes=a,t.memoizedState=h}}function kd(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(T(191,s));s.call(n)}}}var Ni={},Ot=Ir(Ni),oi=Ir(Ni),li=Ir(Ni);function Hr(t){if(t===Ni)throw Error(T(174));return t}function Xu(t,e){switch(X(li,e),X(oi,t),X(Ot,Ni),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dl(e,t)}te(Ot),X(Ot,e)}function ps(){te(Ot),te(oi),te(li)}function yp(t){Hr(li.current);var e=Hr(Ot.current),r=dl(e,t.type);e!==r&&(X(oi,t),X(Ot,r))}function Zu(t){oi.current===t&&(te(Ot),te(oi))}var se=Ir(0);function Aa(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Lo=[];function ec(){for(var t=0;t<Lo.length;t++)Lo[t]._workInProgressVersionPrimary=null;Lo.length=0}var ca=Yt.ReactCurrentDispatcher,Do=Yt.ReactCurrentBatchConfig,cn=0,ie=null,me=null,xe=null,Ia=!1,Ws=!1,ui=0,tv=0;function Re(){throw Error(T(321))}function tc(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!St(t[r],e[r]))return!1;return!0}function rc(t,e,r,n,s,i){if(cn=i,ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ca.current=t===null||t.memoizedState===null?iv:av,t=r(n,s),Ws){i=0;do{if(Ws=!1,ui=0,25<=i)throw Error(T(301));i+=1,xe=me=null,e.updateQueue=null,ca.current=ov,t=r(n,s)}while(Ws)}if(ca.current=Ua,e=me!==null&&me.next!==null,cn=0,xe=me=ie=null,Ia=!1,e)throw Error(T(300));return t}function nc(){var t=ui!==0;return ui=0,t}function Et(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?ie.memoizedState=xe=t:xe=xe.next=t,xe}function ct(){if(me===null){var t=ie.alternate;t=t!==null?t.memoizedState:null}else t=me.next;var e=xe===null?ie.memoizedState:xe.next;if(e!==null)xe=e,me=t;else{if(t===null)throw Error(T(310));me=t,t={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},xe===null?ie.memoizedState=xe=t:xe=xe.next=t}return xe}function ci(t,e){return typeof e=="function"?e(t):e}function Mo(t){var e=ct(),r=e.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=t;var n=me,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,l=null,u=i;do{var c=u.lane;if((cn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,ie.lanes|=c,dn|=c}u=u.next}while(u!==null&&u!==i);l===null?a=n:l.next=o,St(n,e.memoizedState)||(We=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,ie.lanes|=i,dn|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Fo(t){var e=ct(),r=e.queue;if(r===null)throw Error(T(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);St(i,e.memoizedState)||(We=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function vp(){}function wp(t,e){var r=ie,n=ct(),s=e(),i=!St(n.memoizedState,s);if(i&&(n.memoizedState=s,We=!0),n=n.queue,sc(Sp.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||xe!==null&&xe.memoizedState.tag&1){if(r.flags|=2048,di(9,xp.bind(null,r,n,s,e),void 0,null),Se===null)throw Error(T(349));cn&30||_p(r,e,s)}return s}function _p(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ie.updateQueue,e===null?(e={lastEffect:null,stores:null},ie.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function xp(t,e,r,n){e.value=r,e.getSnapshot=n,kp(e)&&Ep(t)}function Sp(t,e,r){return r(function(){kp(e)&&Ep(t)})}function kp(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!St(t,r)}catch{return!0}}function Ep(t){var e=Qt(t,1);e!==null&&xt(e,t,1,-1)}function Ed(t){var e=Et();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:t},e.queue=t,t=t.dispatch=sv.bind(null,ie,t),[e.memoizedState,t]}function di(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ie.updateQueue,e===null?(e={lastEffect:null,stores:null},ie.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function bp(){return ct().memoizedState}function da(t,e,r,n){var s=Et();ie.flags|=t,s.memoizedState=di(1|e,r,void 0,n===void 0?null:n)}function to(t,e,r,n){var s=ct();n=n===void 0?null:n;var i=void 0;if(me!==null){var a=me.memoizedState;if(i=a.destroy,n!==null&&tc(n,a.deps)){s.memoizedState=di(e,r,i,n);return}}ie.flags|=t,s.memoizedState=di(1|e,r,i,n)}function bd(t,e){return da(8390656,8,t,e)}function sc(t,e){return to(2048,8,t,e)}function Cp(t,e){return to(4,2,t,e)}function jp(t,e){return to(4,4,t,e)}function Tp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Rp(t,e,r){return r=r!=null?r.concat([t]):null,to(4,4,Tp.bind(null,e,t),r)}function ic(){}function Op(t,e){var r=ct();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&tc(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Pp(t,e){var r=ct();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&tc(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Np(t,e,r){return cn&21?(St(r,e)||(r=Lf(),ie.lanes|=r,dn|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,We=!0),t.memoizedState=r)}function rv(t,e){var r=Q;Q=r!==0&&4>r?r:4,t(!0);var n=Do.transition;Do.transition={};try{t(!1),e()}finally{Q=r,Do.transition=n}}function Ap(){return ct().memoizedState}function nv(t,e,r){var n=jr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ip(t))Up(e,r);else if(r=mp(t,e,r,n),r!==null){var s=Le();xt(r,t,n,s),$p(r,e,n)}}function sv(t,e,r){var n=jr(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ip(t))Up(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,St(o,a)){var l=e.interleaved;l===null?(s.next=s,Ju(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=mp(t,e,s,n),r!==null&&(s=Le(),xt(r,t,n,s),$p(r,e,n))}}function Ip(t){var e=t.alternate;return t===ie||e!==null&&e===ie}function Up(t,e){Ws=Ia=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function $p(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,$u(t,r)}}var Ua={readContext:ut,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},iv={readContext:ut,useCallback:function(t,e){return Et().memoizedState=[t,e===void 0?null:e],t},useContext:ut,useEffect:bd,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,da(4194308,4,Tp.bind(null,e,t),r)},useLayoutEffect:function(t,e){return da(4194308,4,t,e)},useInsertionEffect:function(t,e){return da(4,2,t,e)},useMemo:function(t,e){var r=Et();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Et();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=nv.bind(null,ie,t),[n.memoizedState,t]},useRef:function(t){var e=Et();return t={current:t},e.memoizedState=t},useState:Ed,useDebugValue:ic,useDeferredValue:function(t){return Et().memoizedState=t},useTransition:function(){var t=Ed(!1),e=t[0];return t=rv.bind(null,t[1]),Et().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ie,s=Et();if(re){if(r===void 0)throw Error(T(407));r=r()}else{if(r=e(),Se===null)throw Error(T(349));cn&30||_p(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,bd(Sp.bind(null,n,i,t),[t]),n.flags|=2048,di(9,xp.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Et(),e=Se.identifierPrefix;if(re){var r=Wt,n=qt;r=(n&~(1<<32-_t(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ui++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=tv++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},av={readContext:ut,useCallback:Op,useContext:ut,useEffect:sc,useImperativeHandle:Rp,useInsertionEffect:Cp,useLayoutEffect:jp,useMemo:Pp,useReducer:Mo,useRef:bp,useState:function(){return Mo(ci)},useDebugValue:ic,useDeferredValue:function(t){var e=ct();return Np(e,me.memoizedState,t)},useTransition:function(){var t=Mo(ci)[0],e=ct().memoizedState;return[t,e]},useMutableSource:vp,useSyncExternalStore:wp,useId:Ap,unstable_isNewReconciler:!1},ov={readContext:ut,useCallback:Op,useContext:ut,useEffect:sc,useImperativeHandle:Rp,useInsertionEffect:Cp,useLayoutEffect:jp,useMemo:Pp,useReducer:Fo,useRef:bp,useState:function(){return Fo(ci)},useDebugValue:ic,useDeferredValue:function(t){var e=ct();return me===null?e.memoizedState=t:Np(e,me.memoizedState,t)},useTransition:function(){var t=Fo(ci)[0],e=ct().memoizedState;return[t,e]},useMutableSource:vp,useSyncExternalStore:wp,useId:Ap,unstable_isNewReconciler:!1};function ft(t,e){if(t&&t.defaultProps){e=ae({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Nl(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ae({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ro={isMounted:function(t){return(t=t._reactInternals)?yn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Le(),s=jr(t),i=Kt(n,s);i.payload=e,r!=null&&(i.callback=r),e=br(t,i,s),e!==null&&(xt(e,t,s,n),ua(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Le(),s=jr(t),i=Kt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=br(t,i,s),e!==null&&(xt(e,t,s,n),ua(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Le(),n=jr(t),s=Kt(r,n);s.tag=2,e!=null&&(s.callback=e),e=br(t,s,n),e!==null&&(xt(e,t,n,r),ua(e,t,n))}};function Cd(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!ni(r,n)||!ni(s,i):!0}function Lp(t,e,r){var n=!1,s=Nr,i=e.contextType;return typeof i=="object"&&i!==null?i=ut(i):(s=Ve(e)?ln:Ne.current,n=e.contextTypes,i=(n=n!=null)?ds(t,s):Nr),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ro,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function jd(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ro.enqueueReplaceState(e,e.state,null)}function Al(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Yu(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ut(i):(i=Ve(e)?ln:Ne.current,s.context=ds(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Nl(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ro.enqueueReplaceState(s,s.state,null),Na(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ms(t,e){try{var r="",n=e;do r+=Ug(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function zo(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Il(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var lv=typeof WeakMap=="function"?WeakMap:Map;function Dp(t,e,r){r=Kt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){La||(La=!0,Wl=n),Il(t,e)},r}function Mp(t,e,r){r=Kt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Il(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Il(t,e),typeof n!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function Td(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new lv;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Sv.bind(null,t,e,r),e.then(t,t))}function Rd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Od(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Kt(-1,1),e.tag=2,br(r,e,1))),r.lanes|=1),t)}var uv=Yt.ReactCurrentOwner,We=!1;function Ue(t,e,r,n){e.child=t===null?pp(e,null,r,n):fs(e,t.child,r,n)}function Pd(t,e,r,n,s){r=r.render;var i=e.ref;return Qn(e,s),n=rc(t,e,r,n,i,s),r=nc(),t!==null&&!We?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jt(t,e,s)):(re&&r&&Wu(e),e.flags|=1,Ue(t,e,n,s),e.child)}function Nd(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!fc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Fp(t,e,i,n,s)):(t=ma(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:ni,r(a,n)&&t.ref===e.ref)return Jt(t,e,s)}return e.flags|=1,t=Tr(i,n),t.ref=e.ref,t.return=e,e.child=t}function Fp(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(ni(i,n)&&t.ref===e.ref)if(We=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(We=!0);else return e.lanes=t.lanes,Jt(t,e,s)}return Ul(t,e,r,n,s)}function zp(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(qn,Qe),Qe|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,X(qn,Qe),Qe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,X(qn,Qe),Qe|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,X(qn,Qe),Qe|=n;return Ue(t,e,s,r),e.child}function Bp(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Ul(t,e,r,n,s){var i=Ve(r)?ln:Ne.current;return i=ds(e,i),Qn(e,s),r=rc(t,e,r,n,i,s),n=nc(),t!==null&&!We?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jt(t,e,s)):(re&&n&&Wu(e),e.flags|=1,Ue(t,e,r,s),e.child)}function Ad(t,e,r,n,s){if(Ve(r)){var i=!0;ja(e)}else i=!1;if(Qn(e,s),e.stateNode===null)ha(t,e),Lp(e,r,n),Al(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=ut(u):(u=Ve(r)?ln:Ne.current,u=ds(e,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&jd(e,a,n,u),sr=!1;var f=e.memoizedState;a.state=f,Na(e,n,a,s),l=e.memoizedState,o!==n||f!==l||Ke.current||sr?(typeof c=="function"&&(Nl(e,r,c,n),l=e.memoizedState),(o=sr||Cd(e,r,o,n,f,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,gp(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:ft(e.type,o),a.props=u,h=e.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=ut(l):(l=Ve(r)?ln:Ne.current,l=ds(e,l));var y=r.getDerivedStateFromProps;(c=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&jd(e,a,n,l),sr=!1,f=e.memoizedState,a.state=f,Na(e,n,a,s);var v=e.memoizedState;o!==h||f!==v||Ke.current||sr?(typeof y=="function"&&(Nl(e,r,y,n),v=e.memoizedState),(u=sr||Cd(e,r,u,n,f,v,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),a.props=n,a.state=v,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return $l(t,e,r,n,i,s)}function $l(t,e,r,n,s,i){Bp(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&vd(e,r,!1),Jt(t,e,i);n=e.stateNode,uv.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=fs(e,t.child,null,i),e.child=fs(e,null,o,i)):Ue(t,e,o,i),e.memoizedState=n.state,s&&vd(e,r,!0),e.child}function qp(t){var e=t.stateNode;e.pendingContext?yd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yd(t,e.context,!1),Xu(t,e.containerInfo)}function Id(t,e,r,n,s){return hs(),Vu(s),e.flags|=256,Ue(t,e,r,n),e.child}var Ll={dehydrated:null,treeContext:null,retryLane:0};function Dl(t){return{baseLanes:t,cachePool:null,transitions:null}}function Wp(t,e,r){var n=e.pendingProps,s=se.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),X(se,s&1),t===null)return Ol(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=io(a,n,0,null),t=on(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Dl(r),e.memoizedState=Ll,t):ac(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return cv(t,e,a,n,o,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Tr(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Tr(o,i):(i=on(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?Dl(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=Ll,n}return i=t.child,t=i.sibling,n=Tr(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function ac(t,e){return e=io({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qi(t,e,r,n){return n!==null&&Vu(n),fs(e,t.child,null,r),t=ac(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cv(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=zo(Error(T(422))),Qi(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=io({mode:"visible",children:n.children},s,0,null),i=on(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&fs(e,t.child,null,a),e.child.memoizedState=Dl(a),e.memoizedState=Ll,i);if(!(e.mode&1))return Qi(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(T(419)),n=zo(i,n,void 0),Qi(t,e,a,n)}if(o=(a&t.childLanes)!==0,We||o){if(n=Se,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Qt(t,s),xt(n,t,s,-1))}return hc(),n=zo(Error(T(421))),Qi(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=kv.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Xe=Er(s.nextSibling),Ze=e,re=!0,wt=null,t!==null&&(it[at++]=qt,it[at++]=Wt,it[at++]=un,qt=t.id,Wt=t.overflow,un=e),e=ac(e,n.children),e.flags|=4096,e)}function Ud(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Pl(t.return,e,r)}function Bo(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Kp(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Ue(t,e,n.children,r),n=se.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ud(t,r,e);else if(t.tag===19)Ud(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(X(se,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Aa(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Bo(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Aa(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Bo(e,!0,r,null,i);break;case"together":Bo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ha(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),dn|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,r=Tr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Tr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function dv(t,e,r){switch(e.tag){case 3:qp(e),hs();break;case 5:yp(e);break;case 1:Ve(e.type)&&ja(e);break;case 4:Xu(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;X(Oa,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(X(se,se.current&1),e.flags|=128,null):r&e.child.childLanes?Wp(t,e,r):(X(se,se.current&1),t=Jt(t,e,r),t!==null?t.sibling:null);X(se,se.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Kp(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),X(se,se.current),n)break;return null;case 22:case 23:return e.lanes=0,zp(t,e,r)}return Jt(t,e,r)}var Vp,Ml,Hp,Gp;Vp=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ml=function(){};Hp=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Hr(Ot.current);var i=null;switch(r){case"input":s=ol(t,s),n=ol(t,n),i=[];break;case"select":s=ae({},s,{value:void 0}),n=ae({},n,{value:void 0}),i=[];break;case"textarea":s=cl(t,s),n=cl(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ba)}hl(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Js.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Js.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ee("scroll",t),i||o===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Gp=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ps(t,e){if(!re)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Oe(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function hv(t,e,r){var n=e.pendingProps;switch(Ku(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(e),null;case 1:return Ve(e.type)&&Ca(),Oe(e),null;case 3:return n=e.stateNode,ps(),te(Ke),te(Ne),ec(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Hi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wt!==null&&(Hl(wt),wt=null))),Ml(t,e),Oe(e),null;case 5:Zu(e);var s=Hr(li.current);if(r=e.type,t!==null&&e.stateNode!=null)Hp(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(T(166));return Oe(e),null}if(t=Hr(Ot.current),Hi(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Tt]=e,n[ai]=i,t=(e.mode&1)!==0,r){case"dialog":ee("cancel",n),ee("close",n);break;case"iframe":case"object":case"embed":ee("load",n);break;case"video":case"audio":for(s=0;s<$s.length;s++)ee($s[s],n);break;case"source":ee("error",n);break;case"img":case"image":case"link":ee("error",n),ee("load",n);break;case"details":ee("toggle",n);break;case"input":Wc(n,i),ee("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ee("invalid",n);break;case"textarea":Vc(n,i),ee("invalid",n)}hl(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Vi(n.textContent,o,t),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Vi(n.textContent,o,t),s=["children",""+o]):Js.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ee("scroll",n)}switch(r){case"input":Di(n),Kc(n,i,!0);break;case"textarea":Di(n),Hc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ba)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Sf(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Tt]=e,t[ai]=n,Vp(t,e,!1,!1),e.stateNode=t;e:{switch(a=fl(r,n),r){case"dialog":ee("cancel",t),ee("close",t),s=n;break;case"iframe":case"object":case"embed":ee("load",t),s=n;break;case"video":case"audio":for(s=0;s<$s.length;s++)ee($s[s],t);s=n;break;case"source":ee("error",t),s=n;break;case"img":case"image":case"link":ee("error",t),ee("load",t),s=n;break;case"details":ee("toggle",t),s=n;break;case"input":Wc(t,n),s=ol(t,n),ee("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=ae({},n,{value:void 0}),ee("invalid",t);break;case"textarea":Vc(t,n),s=cl(t,n),ee("invalid",t);break;default:s=n}hl(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?bf(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&kf(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ys(t,l):typeof l=="number"&&Ys(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Js.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ee("scroll",t):l!=null&&Ou(t,i,l,a))}switch(r){case"input":Di(t),Kc(t,n,!1);break;case"textarea":Di(t),Hc(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Pr(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Kn(t,!!n.multiple,i,!1):n.defaultValue!=null&&Kn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ba)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Oe(e),null;case 6:if(t&&e.stateNode!=null)Gp(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(T(166));if(r=Hr(li.current),Hr(Ot.current),Hi(e)){if(n=e.stateNode,r=e.memoizedProps,n[Tt]=e,(i=n.nodeValue!==r)&&(t=Ze,t!==null))switch(t.tag){case 3:Vi(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vi(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Tt]=e,e.stateNode=n}return Oe(e),null;case 13:if(te(se),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(re&&Xe!==null&&e.mode&1&&!(e.flags&128))hp(),hs(),e.flags|=98560,i=!1;else if(i=Hi(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(T(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[Tt]=e}else hs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Oe(e),i=!1}else wt!==null&&(Hl(wt),wt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||se.current&1?ye===0&&(ye=3):hc())),e.updateQueue!==null&&(e.flags|=4),Oe(e),null);case 4:return ps(),Ml(t,e),t===null&&si(e.stateNode.containerInfo),Oe(e),null;case 10:return Qu(e.type._context),Oe(e),null;case 17:return Ve(e.type)&&Ca(),Oe(e),null;case 19:if(te(se),i=e.memoizedState,i===null)return Oe(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)Ps(i,!1);else{if(ye!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Aa(t),a!==null){for(e.flags|=128,Ps(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return X(se,se.current&1|2),e.child}t=t.sibling}i.tail!==null&&ce()>gs&&(e.flags|=128,n=!0,Ps(i,!1),e.lanes=4194304)}else{if(!n)if(t=Aa(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ps(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!re)return Oe(e),null}else 2*ce()-i.renderingStartTime>gs&&r!==1073741824&&(e.flags|=128,n=!0,Ps(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ce(),e.sibling=null,r=se.current,X(se,n?r&1|2:r&1),e):(Oe(e),null);case 22:case 23:return dc(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Qe&1073741824&&(Oe(e),e.subtreeFlags&6&&(e.flags|=8192)):Oe(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function fv(t,e){switch(Ku(e),e.tag){case 1:return Ve(e.type)&&Ca(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ps(),te(Ke),te(Ne),ec(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Zu(e),null;case 13:if(te(se),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));hs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return te(se),null;case 4:return ps(),null;case 10:return Qu(e.type._context),null;case 22:case 23:return dc(),null;case 24:return null;default:return null}}var Ji=!1,Pe=!1,pv=typeof WeakSet=="function"?WeakSet:Set,A=null;function Bn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ue(t,e,n)}else r.current=null}function Fl(t,e,r){try{r()}catch(n){ue(t,e,n)}}var $d=!1;function mv(t,e){if(kl=Sa,t=Zf(),qu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(o=a+s),h!==i||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===t)break t;if(f===r&&++u===s&&(o=a),f===i&&++c===n&&(l=a),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(El={focusedElem:t,selectionRange:r},Sa=!1,A=e;A!==null;)if(e=A,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,A=t;else for(;A!==null;){e=A;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,S=v.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?_:ft(e.type,_),S);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(x){ue(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,A=t;break}A=e.return}return v=$d,$d=!1,v}function Ks(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Fl(e,r,i)}s=s.next}while(s!==n)}}function no(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function zl(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Qp(t){var e=t.alternate;e!==null&&(t.alternate=null,Qp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tt],delete e[ai],delete e[jl],delete e[Yy],delete e[Xy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Jp(t){return t.tag===5||t.tag===3||t.tag===4}function Ld(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ba));else if(n!==4&&(t=t.child,t!==null))for(Bl(t,e,r),t=t.sibling;t!==null;)Bl(t,e,r),t=t.sibling}function ql(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(ql(t,e,r),t=t.sibling;t!==null;)ql(t,e,r),t=t.sibling}var be=null,yt=!1;function er(t,e,r){for(r=r.child;r!==null;)Yp(t,e,r),r=r.sibling}function Yp(t,e,r){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Qa,r)}catch{}switch(r.tag){case 5:Pe||Bn(r,e);case 6:var n=be,s=yt;be=null,er(t,e,r),be=n,yt=s,be!==null&&(yt?(t=be,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):be.removeChild(r.stateNode));break;case 18:be!==null&&(yt?(t=be,r=r.stateNode,t.nodeType===8?Uo(t.parentNode,r):t.nodeType===1&&Uo(t,r),ti(t)):Uo(be,r.stateNode));break;case 4:n=be,s=yt,be=r.stateNode.containerInfo,yt=!0,er(t,e,r),be=n,yt=s;break;case 0:case 11:case 14:case 15:if(!Pe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Fl(r,e,a),s=s.next}while(s!==n)}er(t,e,r);break;case 1:if(!Pe&&(Bn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ue(r,e,o)}er(t,e,r);break;case 21:er(t,e,r);break;case 22:r.mode&1?(Pe=(n=Pe)||r.memoizedState!==null,er(t,e,r),Pe=n):er(t,e,r);break;default:er(t,e,r)}}function Dd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new pv),e.forEach(function(n){var s=Ev.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function dt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:be=o.stateNode,yt=!1;break e;case 3:be=o.stateNode.containerInfo,yt=!0;break e;case 4:be=o.stateNode.containerInfo,yt=!0;break e}o=o.return}if(be===null)throw Error(T(160));Yp(i,a,s),be=null,yt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ue(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Xp(e,t),e=e.sibling}function Xp(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dt(e,t),kt(t),n&4){try{Ks(3,t,t.return),no(3,t)}catch(_){ue(t,t.return,_)}try{Ks(5,t,t.return)}catch(_){ue(t,t.return,_)}}break;case 1:dt(e,t),kt(t),n&512&&r!==null&&Bn(r,r.return);break;case 5:if(dt(e,t),kt(t),n&512&&r!==null&&Bn(r,r.return),t.flags&32){var s=t.stateNode;try{Ys(s,"")}catch(_){ue(t,t.return,_)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&_f(s,i),fl(o,a);var u=fl(o,i);for(a=0;a<l.length;a+=2){var c=l[a],h=l[a+1];c==="style"?bf(s,h):c==="dangerouslySetInnerHTML"?kf(s,h):c==="children"?Ys(s,h):Ou(s,c,h,u)}switch(o){case"input":ll(s,i);break;case"textarea":xf(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Kn(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?Kn(s,!!i.multiple,i.defaultValue,!0):Kn(s,!!i.multiple,i.multiple?[]:"",!1))}s[ai]=i}catch(_){ue(t,t.return,_)}}break;case 6:if(dt(e,t),kt(t),n&4){if(t.stateNode===null)throw Error(T(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){ue(t,t.return,_)}}break;case 3:if(dt(e,t),kt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ti(e.containerInfo)}catch(_){ue(t,t.return,_)}break;case 4:dt(e,t),kt(t);break;case 13:dt(e,t),kt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(uc=ce())),n&4&&Dd(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Pe=(u=Pe)||c,dt(e,t),Pe=u):dt(e,t),kt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(A=t,c=t.child;c!==null;){for(h=A=c;A!==null;){switch(f=A,y=f.child,f.tag){case 0:case 11:case 14:case 15:Ks(4,f,f.return);break;case 1:Bn(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(_){ue(n,r,_)}}break;case 5:Bn(f,f.return);break;case 22:if(f.memoizedState!==null){Fd(h);continue}}y!==null?(y.return=f,A=y):Fd(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Ef("display",a))}catch(_){ue(t,t.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){ue(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:dt(e,t),kt(t),n&4&&Dd(t);break;case 21:break;default:dt(e,t),kt(t)}}function kt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Jp(r)){var n=r;break e}r=r.return}throw Error(T(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ys(s,""),n.flags&=-33);var i=Ld(t);ql(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Ld(t);Bl(t,o,a);break;default:throw Error(T(161))}}catch(l){ue(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gv(t,e,r){A=t,Zp(t)}function Zp(t,e,r){for(var n=(t.mode&1)!==0;A!==null;){var s=A,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Ji;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Pe;o=Ji;var u=Pe;if(Ji=a,(Pe=l)&&!u)for(A=s;A!==null;)a=A,l=a.child,a.tag===22&&a.memoizedState!==null?zd(s):l!==null?(l.return=a,A=l):zd(s);for(;i!==null;)A=i,Zp(i),i=i.sibling;A=s,Ji=o,Pe=u}Md(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,A=i):Md(t)}}function Md(t){for(;A!==null;){var e=A;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pe||no(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Pe)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:ft(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&kd(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}kd(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ti(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Pe||e.flags&512&&zl(e)}catch(f){ue(e,e.return,f)}}if(e===t){A=null;break}if(r=e.sibling,r!==null){r.return=e.return,A=r;break}A=e.return}}function Fd(t){for(;A!==null;){var e=A;if(e===t){A=null;break}var r=e.sibling;if(r!==null){r.return=e.return,A=r;break}A=e.return}}function zd(t){for(;A!==null;){var e=A;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{no(4,e)}catch(l){ue(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){ue(e,s,l)}}var i=e.return;try{zl(e)}catch(l){ue(e,i,l)}break;case 5:var a=e.return;try{zl(e)}catch(l){ue(e,a,l)}}}catch(l){ue(e,e.return,l)}if(e===t){A=null;break}var o=e.sibling;if(o!==null){o.return=e.return,A=o;break}A=e.return}}var yv=Math.ceil,$a=Yt.ReactCurrentDispatcher,oc=Yt.ReactCurrentOwner,lt=Yt.ReactCurrentBatchConfig,V=0,Se=null,fe=null,Ce=0,Qe=0,qn=Ir(0),ye=0,hi=null,dn=0,so=0,lc=0,Vs=null,qe=null,uc=0,gs=1/0,$t=null,La=!1,Wl=null,Cr=null,Yi=!1,wr=null,Da=0,Hs=0,Kl=null,fa=-1,pa=0;function Le(){return V&6?ce():fa!==-1?fa:fa=ce()}function jr(t){return t.mode&1?V&2&&Ce!==0?Ce&-Ce:ev.transition!==null?(pa===0&&(pa=Lf()),pa):(t=Q,t!==0||(t=window.event,t=t===void 0?16:Wf(t.type)),t):1}function xt(t,e,r,n){if(50<Hs)throw Hs=0,Kl=null,Error(T(185));Ri(t,r,n),(!(V&2)||t!==Se)&&(t===Se&&(!(V&2)&&(so|=r),ye===4&&or(t,Ce)),He(t,n),r===1&&V===0&&!(e.mode&1)&&(gs=ce()+500,eo&&Ur()))}function He(t,e){var r=t.callbackNode;ey(t,e);var n=xa(t,t===Se?Ce:0);if(n===0)r!==null&&Jc(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Jc(r),e===1)t.tag===0?Zy(Bd.bind(null,t)):up(Bd.bind(null,t)),Qy(function(){!(V&6)&&Ur()}),r=null;else{switch(Df(n)){case 1:r=Uu;break;case 4:r=Uf;break;case 16:r=_a;break;case 536870912:r=$f;break;default:r=_a}r=om(r,em.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function em(t,e){if(fa=-1,pa=0,V&6)throw Error(T(327));var r=t.callbackNode;if(Jn()&&t.callbackNode!==r)return null;var n=xa(t,t===Se?Ce:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Ma(t,n);else{e=n;var s=V;V|=2;var i=rm();(Se!==t||Ce!==e)&&($t=null,gs=ce()+500,an(t,e));do try{_v();break}catch(o){tm(t,o)}while(!0);Gu(),$a.current=i,V=s,fe!==null?e=0:(Se=null,Ce=0,e=ye)}if(e!==0){if(e===2&&(s=vl(t),s!==0&&(n=s,e=Vl(t,s))),e===1)throw r=hi,an(t,0),or(t,n),He(t,ce()),r;if(e===6)or(t,n);else{if(s=t.current.alternate,!(n&30)&&!vv(s)&&(e=Ma(t,n),e===2&&(i=vl(t),i!==0&&(n=i,e=Vl(t,i))),e===1))throw r=hi,an(t,0),or(t,n),He(t,ce()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(T(345));case 2:zr(t,qe,$t);break;case 3:if(or(t,n),(n&130023424)===n&&(e=uc+500-ce(),10<e)){if(xa(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Le(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Cl(zr.bind(null,t,qe,$t),e);break}zr(t,qe,$t);break;case 4:if(or(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-_t(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=ce()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*yv(n/1960))-n,10<n){t.timeoutHandle=Cl(zr.bind(null,t,qe,$t),n);break}zr(t,qe,$t);break;case 5:zr(t,qe,$t);break;default:throw Error(T(329))}}}return He(t,ce()),t.callbackNode===r?em.bind(null,t):null}function Vl(t,e){var r=Vs;return t.current.memoizedState.isDehydrated&&(an(t,e).flags|=256),t=Ma(t,e),t!==2&&(e=qe,qe=r,e!==null&&Hl(e)),t}function Hl(t){qe===null?qe=t:qe.push.apply(qe,t)}function vv(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!St(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function or(t,e){for(e&=~lc,e&=~so,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-_t(e),n=1<<r;t[r]=-1,e&=~n}}function Bd(t){if(V&6)throw Error(T(327));Jn();var e=xa(t,0);if(!(e&1))return He(t,ce()),null;var r=Ma(t,e);if(t.tag!==0&&r===2){var n=vl(t);n!==0&&(e=n,r=Vl(t,n))}if(r===1)throw r=hi,an(t,0),or(t,e),He(t,ce()),r;if(r===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zr(t,qe,$t),He(t,ce()),null}function cc(t,e){var r=V;V|=1;try{return t(e)}finally{V=r,V===0&&(gs=ce()+500,eo&&Ur())}}function hn(t){wr!==null&&wr.tag===0&&!(V&6)&&Jn();var e=V;V|=1;var r=lt.transition,n=Q;try{if(lt.transition=null,Q=1,t)return t()}finally{Q=n,lt.transition=r,V=e,!(V&6)&&Ur()}}function dc(){Qe=qn.current,te(qn)}function an(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Gy(r)),fe!==null)for(r=fe.return;r!==null;){var n=r;switch(Ku(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ca();break;case 3:ps(),te(Ke),te(Ne),ec();break;case 5:Zu(n);break;case 4:ps();break;case 13:te(se);break;case 19:te(se);break;case 10:Qu(n.type._context);break;case 22:case 23:dc()}r=r.return}if(Se=t,fe=t=Tr(t.current,null),Ce=Qe=e,ye=0,hi=null,lc=so=dn=0,qe=Vs=null,Vr!==null){for(e=0;e<Vr.length;e++)if(r=Vr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Vr=null}return t}function tm(t,e){do{var r=fe;try{if(Gu(),ca.current=Ua,Ia){for(var n=ie.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ia=!1}if(cn=0,xe=me=ie=null,Ws=!1,ui=0,oc.current=null,r===null||r.return===null){ye=1,hi=e,fe=null;break}e:{var i=t,a=r.return,o=r,l=e;if(e=Ce,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=Rd(a);if(y!==null){y.flags&=-257,Od(y,a,o,i,e),y.mode&1&&Td(i,u,e),e=y,l=u;var v=e.updateQueue;if(v===null){var _=new Set;_.add(l),e.updateQueue=_}else v.add(l);break e}else{if(!(e&1)){Td(i,u,e),hc();break e}l=Error(T(426))}}else if(re&&o.mode&1){var S=Rd(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Od(S,a,o,i,e),Vu(ms(l,o));break e}}i=l=ms(l,o),ye!==4&&(ye=2),Vs===null?Vs=[i]:Vs.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=Dp(i,l,e);Sd(i,m);break e;case 1:o=l;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Cr===null||!Cr.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=Mp(i,o,e);Sd(i,x);break e}}i=i.return}while(i!==null)}sm(r)}catch(E){e=E,fe===r&&r!==null&&(fe=r=r.return);continue}break}while(!0)}function rm(){var t=$a.current;return $a.current=Ua,t===null?Ua:t}function hc(){(ye===0||ye===3||ye===2)&&(ye=4),Se===null||!(dn&268435455)&&!(so&268435455)||or(Se,Ce)}function Ma(t,e){var r=V;V|=2;var n=rm();(Se!==t||Ce!==e)&&($t=null,an(t,e));do try{wv();break}catch(s){tm(t,s)}while(!0);if(Gu(),V=r,$a.current=n,fe!==null)throw Error(T(261));return Se=null,Ce=0,ye}function wv(){for(;fe!==null;)nm(fe)}function _v(){for(;fe!==null&&!Kg();)nm(fe)}function nm(t){var e=am(t.alternate,t,Qe);t.memoizedProps=t.pendingProps,e===null?sm(t):fe=e,oc.current=null}function sm(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=fv(r,e),r!==null){r.flags&=32767,fe=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ye=6,fe=null;return}}else if(r=hv(r,e,Qe),r!==null){fe=r;return}if(e=e.sibling,e!==null){fe=e;return}fe=e=t}while(e!==null);ye===0&&(ye=5)}function zr(t,e,r){var n=Q,s=lt.transition;try{lt.transition=null,Q=1,xv(t,e,r,n)}finally{lt.transition=s,Q=n}return null}function xv(t,e,r,n){do Jn();while(wr!==null);if(V&6)throw Error(T(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(ty(t,i),t===Se&&(fe=Se=null,Ce=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Yi||(Yi=!0,om(_a,function(){return Jn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=lt.transition,lt.transition=null;var a=Q;Q=1;var o=V;V|=4,oc.current=null,mv(t,r),Xp(r,t),zy(El),Sa=!!kl,El=kl=null,t.current=r,gv(r),Vg(),V=o,Q=a,lt.transition=i}else t.current=r;if(Yi&&(Yi=!1,wr=t,Da=s),i=t.pendingLanes,i===0&&(Cr=null),Qg(r.stateNode),He(t,ce()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(La)throw La=!1,t=Wl,Wl=null,t;return Da&1&&t.tag!==0&&Jn(),i=t.pendingLanes,i&1?t===Kl?Hs++:(Hs=0,Kl=t):Hs=0,Ur(),null}function Jn(){if(wr!==null){var t=Df(Da),e=lt.transition,r=Q;try{if(lt.transition=null,Q=16>t?16:t,wr===null)var n=!1;else{if(t=wr,wr=null,Da=0,V&6)throw Error(T(331));var s=V;for(V|=4,A=t.current;A!==null;){var i=A,a=i.child;if(A.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(A=u;A!==null;){var c=A;switch(c.tag){case 0:case 11:case 15:Ks(8,c,i)}var h=c.child;if(h!==null)h.return=c,A=h;else for(;A!==null;){c=A;var f=c.sibling,y=c.return;if(Qp(c),c===u){A=null;break}if(f!==null){f.return=y,A=f;break}A=y}}}var v=i.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var S=_.sibling;_.sibling=null,_=S}while(_!==null)}}A=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,A=a;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ks(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,A=m;break e}A=i.return}}var p=t.current;for(A=p;A!==null;){a=A;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,A=g;else e:for(a=p;A!==null;){if(o=A,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:no(9,o)}}catch(E){ue(o,o.return,E)}if(o===a){A=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,A=x;break e}A=o.return}}if(V=s,Ur(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Qa,t)}catch{}n=!0}return n}finally{Q=r,lt.transition=e}}return!1}function qd(t,e,r){e=ms(r,e),e=Dp(t,e,1),t=br(t,e,1),e=Le(),t!==null&&(Ri(t,1,e),He(t,e))}function ue(t,e,r){if(t.tag===3)qd(t,t,r);else for(;e!==null;){if(e.tag===3){qd(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Cr===null||!Cr.has(n))){t=ms(r,t),t=Mp(e,t,1),e=br(e,t,1),t=Le(),e!==null&&(Ri(e,1,t),He(e,t));break}}e=e.return}}function Sv(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Le(),t.pingedLanes|=t.suspendedLanes&r,Se===t&&(Ce&r)===r&&(ye===4||ye===3&&(Ce&130023424)===Ce&&500>ce()-uc?an(t,0):lc|=r),He(t,e)}function im(t,e){e===0&&(t.mode&1?(e=zi,zi<<=1,!(zi&130023424)&&(zi=4194304)):e=1);var r=Le();t=Qt(t,e),t!==null&&(Ri(t,e,r),He(t,r))}function kv(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),im(t,r)}function Ev(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(e),im(t,r)}var am;am=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ke.current)We=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return We=!1,dv(t,e,r);We=!!(t.flags&131072)}else We=!1,re&&e.flags&1048576&&cp(e,Ra,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ha(t,e),t=e.pendingProps;var s=ds(e,Ne.current);Qn(e,r),s=rc(null,e,n,t,s,r);var i=nc();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ve(n)?(i=!0,ja(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Yu(e),s.updater=ro,e.stateNode=s,s._reactInternals=e,Al(e,n,t,r),e=$l(null,e,n,!0,i,r)):(e.tag=0,re&&i&&Wu(e),Ue(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(ha(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Cv(n),t=ft(n,t),s){case 0:e=Ul(null,e,n,t,r);break e;case 1:e=Ad(null,e,n,t,r);break e;case 11:e=Pd(null,e,n,t,r);break e;case 14:e=Nd(null,e,n,ft(n.type,t),r);break e}throw Error(T(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ft(n,s),Ul(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ft(n,s),Ad(t,e,n,s,r);case 3:e:{if(qp(e),t===null)throw Error(T(387));n=e.pendingProps,i=e.memoizedState,s=i.element,gp(t,e),Na(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ms(Error(T(423)),e),e=Id(t,e,n,r,s);break e}else if(n!==s){s=ms(Error(T(424)),e),e=Id(t,e,n,r,s);break e}else for(Xe=Er(e.stateNode.containerInfo.firstChild),Ze=e,re=!0,wt=null,r=pp(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(hs(),n===s){e=Jt(t,e,r);break e}Ue(t,e,n,r)}e=e.child}return e;case 5:return yp(e),t===null&&Ol(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,bl(n,s)?a=null:i!==null&&bl(n,i)&&(e.flags|=32),Bp(t,e),Ue(t,e,a,r),e.child;case 6:return t===null&&Ol(e),null;case 13:return Wp(t,e,r);case 4:return Xu(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=fs(e,null,n,r):Ue(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ft(n,s),Pd(t,e,n,s,r);case 7:return Ue(t,e,e.pendingProps,r),e.child;case 8:return Ue(t,e,e.pendingProps.children,r),e.child;case 12:return Ue(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,X(Oa,n._currentValue),n._currentValue=a,i!==null)if(St(i.value,a)){if(i.children===s.children&&!Ke.current){e=Jt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Kt(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Pl(i.return,r,e),o.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(T(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Pl(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ue(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Qn(e,r),s=ut(s),n=n(s),e.flags|=1,Ue(t,e,n,r),e.child;case 14:return n=e.type,s=ft(n,e.pendingProps),s=ft(n.type,s),Nd(t,e,n,s,r);case 15:return Fp(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ft(n,s),ha(t,e),e.tag=1,Ve(n)?(t=!0,ja(e)):t=!1,Qn(e,r),Lp(e,n,s),Al(e,n,s,r),$l(null,e,n,!0,t,r);case 19:return Kp(t,e,r);case 22:return zp(t,e,r)}throw Error(T(156,e.tag))};function om(t,e){return If(t,e)}function bv(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(t,e,r,n){return new bv(t,e,r,n)}function fc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Cv(t){if(typeof t=="function")return fc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Nu)return 11;if(t===Au)return 14}return 2}function Tr(t,e){var r=t.alternate;return r===null?(r=ot(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ma(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")fc(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case An:return on(r.children,s,i,e);case Pu:a=8,s|=8;break;case nl:return t=ot(12,r,e,s|2),t.elementType=nl,t.lanes=i,t;case sl:return t=ot(13,r,e,s),t.elementType=sl,t.lanes=i,t;case il:return t=ot(19,r,e,s),t.elementType=il,t.lanes=i,t;case yf:return io(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mf:a=10;break e;case gf:a=9;break e;case Nu:a=11;break e;case Au:a=14;break e;case nr:a=16,n=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=ot(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function on(t,e,r,n){return t=ot(7,t,n,e),t.lanes=r,t}function io(t,e,r,n){return t=ot(22,t,n,e),t.elementType=yf,t.lanes=r,t.stateNode={isHidden:!1},t}function qo(t,e,r){return t=ot(6,t,null,e),t.lanes=r,t}function Wo(t,e,r){return e=ot(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jv(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eo(0),this.expirationTimes=Eo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function pc(t,e,r,n,s,i,a,o,l){return t=new jv(t,e,r,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ot(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yu(i),t}function Tv(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function lm(t){if(!t)return Nr;t=t._reactInternals;e:{if(yn(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ve(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var r=t.type;if(Ve(r))return lp(t,r,e)}return e}function um(t,e,r,n,s,i,a,o,l){return t=pc(r,n,!0,t,s,i,a,o,l),t.context=lm(null),r=t.current,n=Le(),s=jr(r),i=Kt(n,s),i.callback=e??null,br(r,i,s),t.current.lanes=s,Ri(t,s,n),He(t,n),t}function ao(t,e,r,n){var s=e.current,i=Le(),a=jr(s);return r=lm(r),e.context===null?e.context=r:e.pendingContext=r,e=Kt(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=br(s,e,a),t!==null&&(xt(t,s,a,i),ua(t,s,a)),a}function Fa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Wd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function mc(t,e){Wd(t,e),(t=t.alternate)&&Wd(t,e)}function Rv(){return null}var cm=typeof reportError=="function"?reportError:function(t){console.error(t)};function gc(t){this._internalRoot=t}oo.prototype.render=gc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));ao(t,e,null,null)};oo.prototype.unmount=gc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hn(function(){ao(null,t,null,null)}),e[Gt]=null}};function oo(t){this._internalRoot=t}oo.prototype.unstable_scheduleHydration=function(t){if(t){var e=zf();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ar.length&&e!==0&&e<ar[r].priority;r++);ar.splice(r,0,t),r===0&&qf(t)}};function yc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Kd(){}function Ov(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Fa(a);i.call(u)}}var a=um(e,n,t,0,null,!1,!1,"",Kd);return t._reactRootContainer=a,t[Gt]=a.current,si(t.nodeType===8?t.parentNode:t),hn(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=Fa(l);o.call(u)}}var l=pc(t,0,!1,null,null,!1,!1,"",Kd);return t._reactRootContainer=l,t[Gt]=l.current,si(t.nodeType===8?t.parentNode:t),hn(function(){ao(e,l,r,n)}),l}function uo(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=Fa(a);o.call(l)}}ao(e,a,t,s)}else a=Ov(r,e,t,s,n);return Fa(a)}Mf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Us(e.pendingLanes);r!==0&&($u(e,r|1),He(e,ce()),!(V&6)&&(gs=ce()+500,Ur()))}break;case 13:hn(function(){var n=Qt(t,1);if(n!==null){var s=Le();xt(n,t,1,s)}}),mc(t,1)}};Lu=function(t){if(t.tag===13){var e=Qt(t,134217728);if(e!==null){var r=Le();xt(e,t,134217728,r)}mc(t,134217728)}};Ff=function(t){if(t.tag===13){var e=jr(t),r=Qt(t,e);if(r!==null){var n=Le();xt(r,t,e,n)}mc(t,e)}};zf=function(){return Q};Bf=function(t,e){var r=Q;try{return Q=t,e()}finally{Q=r}};ml=function(t,e,r){switch(e){case"input":if(ll(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Za(n);if(!s)throw Error(T(90));wf(n),ll(n,s)}}}break;case"textarea":xf(t,r);break;case"select":e=r.value,e!=null&&Kn(t,!!r.multiple,e,!1)}};Tf=cc;Rf=hn;var Pv={usingClientEntryPoint:!1,Events:[Pi,Ln,Za,Cf,jf,cc]},Ns={findFiberByHostInstance:Kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nv={bundleType:Ns.bundleType,version:Ns.version,rendererPackageName:Ns.rendererPackageName,rendererConfig:Ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Nf(t),t===null?null:t.stateNode},findFiberByHostInstance:Ns.findFiberByHostInstance||Rv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xi.isDisabled&&Xi.supportsFiber)try{Qa=Xi.inject(Nv),Rt=Xi}catch{}}tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pv;tt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yc(e))throw Error(T(200));return Tv(t,e,null,r)};tt.createRoot=function(t,e){if(!yc(t))throw Error(T(299));var r=!1,n="",s=cm;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=pc(t,1,!1,null,null,r,!1,n,s),t[Gt]=e.current,si(t.nodeType===8?t.parentNode:t),new gc(e)};tt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=Nf(e),t=t===null?null:t.stateNode,t};tt.flushSync=function(t){return hn(t)};tt.hydrate=function(t,e,r){if(!lo(e))throw Error(T(200));return uo(null,t,e,!0,r)};tt.hydrateRoot=function(t,e,r){if(!yc(t))throw Error(T(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=cm;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=um(e,null,t,1,r??null,s,!1,i,a),t[Gt]=e.current,si(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new oo(e)};tt.render=function(t,e,r){if(!lo(e))throw Error(T(200));return uo(null,t,e,!1,r)};tt.unmountComponentAtNode=function(t){if(!lo(t))throw Error(T(40));return t._reactRootContainer?(hn(function(){uo(null,null,t,!1,function(){t._reactRootContainer=null,t[Gt]=null})}),!0):!1};tt.unstable_batchedUpdates=cc;tt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!lo(r))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return uo(t,e,r,!1,n)};tt.version="18.3.1-next-f1338f8080-20240426";function dm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dm)}catch(t){console.error(t)}}dm(),df.exports=tt;var hm=df.exports,fm,Vd=hm;fm=Vd.createRoot,Vd.hydrateRoot;var _s=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Av={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},ur,ku,Bh,Iv=(Bh=class{constructor(){$(this,ur,Av);$(this,ku,!1)}setTimeoutProvider(t){P(this,ur,t)}setTimeout(t,e){return w(this,ur).setTimeout(t,e)}clearTimeout(t){w(this,ur).clearTimeout(t)}setInterval(t,e){return w(this,ur).setInterval(t,e)}clearInterval(t){w(this,ur).clearInterval(t)}},ur=new WeakMap,ku=new WeakMap,Bh),Gr=new Iv;function Uv(t){setTimeout(t,0)}var fn=typeof window>"u"||"Deno"in globalThis;function $e(){}function $v(t,e){return typeof t=="function"?t(e):t}function Gl(t){return typeof t=="number"&&t>=0&&t!==1/0}function pm(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Rr(t,e){return typeof t=="function"?t(e):t}function st(t,e){return typeof t=="function"?t(e):t}function Hd(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==vc(a,e.options))return!1}else if(!fi(e.queryKey,a))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||s&&s!==e.state.fetchStatus||i&&!i(e))}function Gd(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(pn(e.options.mutationKey)!==pn(i))return!1}else if(!fi(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function vc(t,e){return((e==null?void 0:e.queryKeyHashFn)||pn)(t)}function pn(t){return JSON.stringify(t,(e,r)=>Ql(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function fi(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>fi(t[r],e[r])):!1}var Lv=Object.prototype.hasOwnProperty;function mm(t,e,r=0){if(t===e)return t;if(r>500)return e;const n=Qd(t)&&Qd(e);if(!n&&!(Ql(t)&&Ql(e)))return e;const i=(n?t:Object.keys(t)).length,a=n?e:Object.keys(e),o=a.length,l=n?new Array(o):{};let u=0;for(let c=0;c<o;c++){const h=n?c:a[c],f=t[h],y=e[h];if(f===y){l[h]=f,(n?c<i:Lv.call(t,h))&&u++;continue}if(f===null||y===null||typeof f!="object"||typeof y!="object"){l[h]=y;continue}const v=mm(f,y,r+1);l[h]=v,v===f&&u++}return i===o&&u===i?t:l}function za(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Qd(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ql(t){if(!Jd(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Jd(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Jd(t){return Object.prototype.toString.call(t)==="[object Object]"}function Dv(t){return new Promise(e=>{Gr.setTimeout(e,t)})}function Jl(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?mm(t,e):e}function Mv(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Fv(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var wc=Symbol();function gm(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===wc?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function _c(t,e){return typeof t=="function"?t(...e):!!t}function zv(t,e,r){let n=!1,s;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(s??(s=e()),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),t}var Jr,cr,Xn,qh,Bv=(qh=class extends _s{constructor(){super();$(this,Jr);$(this,cr);$(this,Xn);P(this,Xn,e=>{if(!fn&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){w(this,cr)||this.setEventListener(w(this,Xn))}onUnsubscribe(){var e;this.hasListeners()||((e=w(this,cr))==null||e.call(this),P(this,cr,void 0))}setEventListener(e){var r;P(this,Xn,e),(r=w(this,cr))==null||r.call(this),P(this,cr,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){w(this,Jr)!==e&&(P(this,Jr,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof w(this,Jr)=="boolean"?w(this,Jr):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Jr=new WeakMap,cr=new WeakMap,Xn=new WeakMap,qh),xc=new Bv;function Yl(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}var qv=Uv;function Wv(){let t=[],e=0,r=o=>{o()},n=o=>{o()},s=qv;const i=o=>{e?t.push(o):s(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&s(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{s=o}}}var ge=Wv(),Zn,dr,es,Wh,Kv=(Wh=class extends _s{constructor(){super();$(this,Zn,!0);$(this,dr);$(this,es);P(this,es,e=>{if(!fn&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){w(this,dr)||this.setEventListener(w(this,es))}onUnsubscribe(){var e;this.hasListeners()||((e=w(this,dr))==null||e.call(this),P(this,dr,void 0))}setEventListener(e){var r;P(this,es,e),(r=w(this,dr))==null||r.call(this),P(this,dr,e(this.setOnline.bind(this)))}setOnline(e){w(this,Zn)!==e&&(P(this,Zn,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return w(this,Zn)}},Zn=new WeakMap,dr=new WeakMap,es=new WeakMap,Wh),Ba=new Kv;function Vv(t){return Math.min(1e3*2**t,3e4)}function ym(t){return(t??"online")==="online"?Ba.isOnline():!0}var Xl=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function vm(t){let e=!1,r=0,n;const s=Yl(),i=()=>s.status!=="pending",a=_=>{var S;if(!i()){const m=new Xl(_);f(m),(S=t.onCancel)==null||S.call(t,m)}},o=()=>{e=!0},l=()=>{e=!1},u=()=>xc.isFocused()&&(t.networkMode==="always"||Ba.isOnline())&&t.canRun(),c=()=>ym(t.networkMode)&&t.canRun(),h=_=>{i()||(n==null||n(),s.resolve(_))},f=_=>{i()||(n==null||n(),s.reject(_))},y=()=>new Promise(_=>{var S;n=m=>{(i()||u())&&_(m)},(S=t.onPause)==null||S.call(t)}).then(()=>{var _;n=void 0,i()||(_=t.onContinue)==null||_.call(t)}),v=()=>{if(i())return;let _;const S=r===0?t.initialPromise:void 0;try{_=S??t.fn()}catch(m){_=Promise.reject(m)}Promise.resolve(_).then(h).catch(m=>{var C;if(i())return;const p=t.retry??(fn?0:3),g=t.retryDelay??Vv,x=typeof g=="function"?g(r,m):g,E=p===!0||typeof p=="number"&&r<p||typeof p=="function"&&p(r,m);if(e||!E){f(m);return}r++,(C=t.onFail)==null||C.call(t,r,m),Dv(x).then(()=>u()?void 0:y()).then(()=>{e?f(m):v()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(n==null||n(),s),cancelRetry:o,continueRetry:l,canStart:c,start:()=>(c()?v():y().then(v),s)}}var Yr,Kh,wm=(Kh=class{constructor(){$(this,Yr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Gl(this.gcTime)&&P(this,Yr,Gr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(fn?1/0:5*60*1e3))}clearGcTimeout(){w(this,Yr)&&(Gr.clearTimeout(w(this,Yr)),P(this,Yr,void 0))}},Yr=new WeakMap,Kh),Xr,ts,nt,Zr,_e,ki,en,mt,Ut,Vh,Hv=(Vh=class extends wm{constructor(e){super();$(this,mt);$(this,Xr);$(this,ts);$(this,nt);$(this,Zr);$(this,_e);$(this,ki);$(this,en);P(this,en,!1),P(this,ki,e.defaultOptions),this.setOptions(e.options),this.observers=[],P(this,Zr,e.client),P(this,nt,w(this,Zr).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,P(this,Xr,Xd(this.options)),this.state=e.state??w(this,Xr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=w(this,_e))==null?void 0:e.promise}setOptions(e){if(this.options={...w(this,ki),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Xd(this.options);r.data!==void 0&&(this.setState(Yd(r.data,r.dataUpdatedAt)),P(this,Xr,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&w(this,nt).remove(this)}setData(e,r){const n=Jl(this.state.data,e,this.options);return B(this,mt,Ut).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){B(this,mt,Ut).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=w(this,_e))==null?void 0:n.promise;return(s=w(this,_e))==null||s.cancel(e),r?r.then($e).catch($e):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(w(this,Xr))}isActive(){return this.observers.some(e=>st(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wc||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Rr(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!pm(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=w(this,_e))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=w(this,_e))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),w(this,nt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(w(this,_e)&&(w(this,en)?w(this,_e).cancel({revert:!0}):w(this,_e).cancelRetry()),this.scheduleGc()),w(this,nt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||B(this,mt,Ut).call(this,{type:"invalidate"})}async fetch(e,r){var l,u,c,h,f,y,v,_,S,m,p,g;if(this.state.fetchStatus!=="idle"&&((l=w(this,_e))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(w(this,_e))return w(this,_e).continueRetry(),w(this,_e).promise}if(e&&this.setOptions(e),!this.options.queryFn){const x=this.observers.find(E=>E.options.queryFn);x&&this.setOptions(x.options)}const n=new AbortController,s=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(P(this,en,!0),n.signal)})},i=()=>{const x=gm(this.options,r),C=(()=>{const j={client:w(this,Zr),queryKey:this.queryKey,meta:this.meta};return s(j),j})();return P(this,en,!1),this.options.persister?this.options.persister(x,C,this):x(C)},o=(()=>{const x={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:w(this,Zr),state:this.state,fetchFn:i};return s(x),x})();(u=this.options.behavior)==null||u.onFetch(o,this),P(this,ts,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&B(this,mt,Ut).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),P(this,_e,vm({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:x=>{x instanceof Xl&&x.revert&&this.setState({...w(this,ts),fetchStatus:"idle"}),n.abort()},onFail:(x,E)=>{B(this,mt,Ut).call(this,{type:"failed",failureCount:x,error:E})},onPause:()=>{B(this,mt,Ut).call(this,{type:"pause"})},onContinue:()=>{B(this,mt,Ut).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const x=await w(this,_e).start();if(x===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(x),(y=(f=w(this,nt).config).onSuccess)==null||y.call(f,x,this),(_=(v=w(this,nt).config).onSettled)==null||_.call(v,x,this.state.error,this),x}catch(x){if(x instanceof Xl){if(x.silent)return w(this,_e).promise;if(x.revert){if(this.state.data===void 0)throw x;return this.state.data}}throw B(this,mt,Ut).call(this,{type:"error",error:x}),(m=(S=w(this,nt).config).onError)==null||m.call(S,x,this),(g=(p=w(this,nt).config).onSettled)==null||g.call(p,this.state.data,x,this),x}finally{this.scheduleGc()}}},Xr=new WeakMap,ts=new WeakMap,nt=new WeakMap,Zr=new WeakMap,_e=new WeakMap,ki=new WeakMap,en=new WeakMap,mt=new WeakSet,Ut=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,..._m(n.data,this.options),fetchMeta:e.meta??null};case"success":const s={...n,...Yd(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return P(this,ts,e.manual?s:void 0),s;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),ge.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),w(this,nt).notify({query:this,type:"updated",action:e})})},Vh);function _m(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ym(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Yd(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Xd(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ze,K,Ei,Ae,tn,rs,Mt,hr,bi,ns,ss,rn,nn,fr,is,H,Ls,Zl,eu,tu,ru,nu,su,iu,xm,Hh,Gv=(Hh=class extends _s{constructor(e,r){super();$(this,H);$(this,ze);$(this,K);$(this,Ei);$(this,Ae);$(this,tn);$(this,rs);$(this,Mt);$(this,hr);$(this,bi);$(this,ns);$(this,ss);$(this,rn);$(this,nn);$(this,fr);$(this,is,new Set);this.options=r,P(this,ze,e),P(this,hr,null),P(this,Mt,Yl()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(w(this,K).addObserver(this),Zd(w(this,K),this.options)?B(this,H,Ls).call(this):this.updateResult(),B(this,H,ru).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return au(w(this,K),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return au(w(this,K),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,B(this,H,nu).call(this),B(this,H,su).call(this),w(this,K).removeObserver(this)}setOptions(e){const r=this.options,n=w(this,K);if(this.options=w(this,ze).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof st(this.options.enabled,w(this,K))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");B(this,H,iu).call(this),w(this,K).setOptions(this.options),r._defaulted&&!za(this.options,r)&&w(this,ze).getQueryCache().notify({type:"observerOptionsUpdated",query:w(this,K),observer:this});const s=this.hasListeners();s&&eh(w(this,K),n,this.options,r)&&B(this,H,Ls).call(this),this.updateResult(),s&&(w(this,K)!==n||st(this.options.enabled,w(this,K))!==st(r.enabled,w(this,K))||Rr(this.options.staleTime,w(this,K))!==Rr(r.staleTime,w(this,K)))&&B(this,H,Zl).call(this);const i=B(this,H,eu).call(this);s&&(w(this,K)!==n||st(this.options.enabled,w(this,K))!==st(r.enabled,w(this,K))||i!==w(this,fr))&&B(this,H,tu).call(this,i)}getOptimisticResult(e){const r=w(this,ze).getQueryCache().build(w(this,ze),e),n=this.createResult(r,e);return Jv(this,n)&&(P(this,Ae,n),P(this,rs,this.options),P(this,tn,w(this,K).state)),n}getCurrentResult(){return w(this,Ae)}trackResult(e,r){return new Proxy(e,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&w(this,Mt).status==="pending"&&w(this,Mt).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(e){w(this,is).add(e)}getCurrentQuery(){return w(this,K)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=w(this,ze).defaultQueryOptions(e),n=w(this,ze).getQueryCache().build(w(this,ze),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return B(this,H,Ls).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),w(this,Ae)))}createResult(e,r){var F;const n=w(this,K),s=this.options,i=w(this,Ae),a=w(this,tn),o=w(this,rs),u=e!==n?e.state:w(this,Ei),{state:c}=e;let h={...c},f=!1,y;if(r._optimisticResults){const O=this.hasListeners(),q=!O&&Zd(e,r),Te=O&&eh(e,n,r,s);(q||Te)&&(h={...h,..._m(c.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:_,status:S}=h;y=h.data;let m=!1;if(r.placeholderData!==void 0&&y===void 0&&S==="pending"){let O;i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(O=i.data,m=!0):O=typeof r.placeholderData=="function"?r.placeholderData((F=w(this,ss))==null?void 0:F.state.data,w(this,ss)):r.placeholderData,O!==void 0&&(S="success",y=Jl(i==null?void 0:i.data,O,r),f=!0)}if(r.select&&y!==void 0&&!m)if(i&&y===(a==null?void 0:a.data)&&r.select===w(this,bi))y=w(this,ns);else try{P(this,bi,r.select),y=r.select(y),y=Jl(i==null?void 0:i.data,y,r),P(this,ns,y),P(this,hr,null)}catch(O){P(this,hr,O)}w(this,hr)&&(v=w(this,hr),y=w(this,ns),_=Date.now(),S="error");const p=h.fetchStatus==="fetching",g=S==="pending",x=S==="error",E=g&&p,C=y!==void 0,R={status:S,fetchStatus:h.fetchStatus,isPending:g,isSuccess:S==="success",isError:x,isInitialLoading:E,isLoading:E,data:y,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:_,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:p,isRefetching:p&&!g,isLoadingError:x&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:x&&C,isStale:Sc(e,r),refetch:this.refetch,promise:w(this,Mt),isEnabled:st(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const O=R.data!==void 0,q=R.status==="error"&&!O,Te=J=>{q?J.reject(R.error):O&&J.resolve(R.data)},ve=()=>{const J=P(this,Mt,R.promise=Yl());Te(J)},z=w(this,Mt);switch(z.status){case"pending":e.queryHash===n.queryHash&&Te(z);break;case"fulfilled":(q||R.data!==z.value)&&ve();break;case"rejected":(!q||R.error!==z.reason)&&ve();break}}return R}updateResult(){const e=w(this,Ae),r=this.createResult(w(this,K),this.options);if(P(this,tn,w(this,K).state),P(this,rs,this.options),w(this,tn).data!==void 0&&P(this,ss,w(this,K)),za(r,e))return;P(this,Ae,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!w(this,is).size)return!0;const a=new Set(i??w(this,is));return this.options.throwOnError&&a.add("error"),Object.keys(w(this,Ae)).some(o=>{const l=o;return w(this,Ae)[l]!==e[l]&&a.has(l)})};B(this,H,xm).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&B(this,H,ru).call(this)}},ze=new WeakMap,K=new WeakMap,Ei=new WeakMap,Ae=new WeakMap,tn=new WeakMap,rs=new WeakMap,Mt=new WeakMap,hr=new WeakMap,bi=new WeakMap,ns=new WeakMap,ss=new WeakMap,rn=new WeakMap,nn=new WeakMap,fr=new WeakMap,is=new WeakMap,H=new WeakSet,Ls=function(e){B(this,H,iu).call(this);let r=w(this,K).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch($e)),r},Zl=function(){B(this,H,nu).call(this);const e=Rr(this.options.staleTime,w(this,K));if(fn||w(this,Ae).isStale||!Gl(e))return;const n=pm(w(this,Ae).dataUpdatedAt,e)+1;P(this,rn,Gr.setTimeout(()=>{w(this,Ae).isStale||this.updateResult()},n))},eu=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(w(this,K)):this.options.refetchInterval)??!1},tu=function(e){B(this,H,su).call(this),P(this,fr,e),!(fn||st(this.options.enabled,w(this,K))===!1||!Gl(w(this,fr))||w(this,fr)===0)&&P(this,nn,Gr.setInterval(()=>{(this.options.refetchIntervalInBackground||xc.isFocused())&&B(this,H,Ls).call(this)},w(this,fr)))},ru=function(){B(this,H,Zl).call(this),B(this,H,tu).call(this,B(this,H,eu).call(this))},nu=function(){w(this,rn)&&(Gr.clearTimeout(w(this,rn)),P(this,rn,void 0))},su=function(){w(this,nn)&&(Gr.clearInterval(w(this,nn)),P(this,nn,void 0))},iu=function(){const e=w(this,ze).getQueryCache().build(w(this,ze),this.options);if(e===w(this,K))return;const r=w(this,K);P(this,K,e),P(this,Ei,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},xm=function(e){ge.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(w(this,Ae))}),w(this,ze).getQueryCache().notify({query:w(this,K),type:"observerResultsUpdated"})})},Hh);function Qv(t,e){return st(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Zd(t,e){return Qv(t,e)||t.state.data!==void 0&&au(t,e,e.refetchOnMount)}function au(t,e,r){if(st(e.enabled,t)!==!1&&Rr(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Sc(t,e)}return!1}function eh(t,e,r,n){return(t!==e||st(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Sc(t,r)}function Sc(t,e){return st(e.enabled,t)!==!1&&t.isStaleByTime(Rr(e.staleTime,t))}function Jv(t,e){return!za(t.getCurrentResult(),e)}function th(t){return{onFetch:(e,r)=>{var c,h,f,y,v;const n=e.options,s=(f=(h=(c=e.fetchOptions)==null?void 0:c.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((y=e.state.data)==null?void 0:y.pages)||[],a=((v=e.state.data)==null?void 0:v.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let _=!1;const S=g=>{zv(g,()=>e.signal,()=>_=!0)},m=gm(e.options,e.fetchOptions),p=async(g,x,E)=>{if(_)return Promise.reject();if(x==null&&g.pages.length)return Promise.resolve(g);const j=(()=>{const q={client:e.client,queryKey:e.queryKey,pageParam:x,direction:E?"backward":"forward",meta:e.options.meta};return S(q),q})(),R=await m(j),{maxPages:F}=e.options,O=E?Fv:Mv;return{pages:O(g.pages,R,F),pageParams:O(g.pageParams,x,F)}};if(s&&i.length){const g=s==="backward",x=g?Yv:rh,E={pages:i,pageParams:a},C=x(n,E);o=await p(E,C,g)}else{const g=t??i.length;do{const x=l===0?a[0]??n.initialPageParam:rh(n,o);if(l>0&&x==null)break;o=await p(o,x),l++}while(l<g)}return o};e.options.persister?e.fetchFn=()=>{var _,S;return(S=(_=e.options).persister)==null?void 0:S.call(_,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function rh(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Yv(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Ci,bt,Ie,sn,Ct,tr,Gh,Xv=(Gh=class extends wm{constructor(e){super();$(this,Ct);$(this,Ci);$(this,bt);$(this,Ie);$(this,sn);P(this,Ci,e.client),this.mutationId=e.mutationId,P(this,Ie,e.mutationCache),P(this,bt,[]),this.state=e.state||Sm(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){w(this,bt).includes(e)||(w(this,bt).push(e),this.clearGcTimeout(),w(this,Ie).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){P(this,bt,w(this,bt).filter(r=>r!==e)),this.scheduleGc(),w(this,Ie).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){w(this,bt).length||(this.state.status==="pending"?this.scheduleGc():w(this,Ie).remove(this))}continue(){var e;return((e=w(this,sn))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,u,c,h,f,y,v,_,S,m,p,g,x,E,C,j,R,F;const r=()=>{B(this,Ct,tr).call(this,{type:"continue"})},n={client:w(this,Ci),meta:this.options.meta,mutationKey:this.options.mutationKey};P(this,sn,vm({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(O,q)=>{B(this,Ct,tr).call(this,{type:"failed",failureCount:O,error:q})},onPause:()=>{B(this,Ct,tr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>w(this,Ie).canRun(this)}));const s=this.state.status==="pending",i=!w(this,sn).canStart();try{if(s)r();else{B(this,Ct,tr).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(a=w(this,Ie).config).onMutate)==null?void 0:o.call(a,e,this,n));const q=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,e,n));q!==this.state.context&&B(this,Ct,tr).call(this,{type:"pending",context:q,variables:e,isPaused:i})}const O=await w(this,sn).start();return await((h=(c=w(this,Ie).config).onSuccess)==null?void 0:h.call(c,O,e,this.state.context,this,n)),await((y=(f=this.options).onSuccess)==null?void 0:y.call(f,O,e,this.state.context,n)),await((_=(v=w(this,Ie).config).onSettled)==null?void 0:_.call(v,O,null,this.state.variables,this.state.context,this,n)),await((m=(S=this.options).onSettled)==null?void 0:m.call(S,O,null,e,this.state.context,n)),B(this,Ct,tr).call(this,{type:"success",data:O}),O}catch(O){try{await((g=(p=w(this,Ie).config).onError)==null?void 0:g.call(p,O,e,this.state.context,this,n))}catch(q){Promise.reject(q)}try{await((E=(x=this.options).onError)==null?void 0:E.call(x,O,e,this.state.context,n))}catch(q){Promise.reject(q)}try{await((j=(C=w(this,Ie).config).onSettled)==null?void 0:j.call(C,void 0,O,this.state.variables,this.state.context,this,n))}catch(q){Promise.reject(q)}try{await((F=(R=this.options).onSettled)==null?void 0:F.call(R,void 0,O,e,this.state.context,n))}catch(q){Promise.reject(q)}throw B(this,Ct,tr).call(this,{type:"error",error:O}),O}finally{w(this,Ie).runNext(this)}}},Ci=new WeakMap,bt=new WeakMap,Ie=new WeakMap,sn=new WeakMap,Ct=new WeakSet,tr=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ge.batch(()=>{w(this,bt).forEach(n=>{n.onMutationUpdate(e)}),w(this,Ie).notify({mutation:this,type:"updated",action:e})})},Gh);function Sm(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ft,gt,ji,Qh,Zv=(Qh=class extends _s{constructor(e={}){super();$(this,Ft);$(this,gt);$(this,ji);this.config=e,P(this,Ft,new Set),P(this,gt,new Map),P(this,ji,0)}build(e,r,n){const s=new Xv({client:e,mutationCache:this,mutationId:++Ui(this,ji)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){w(this,Ft).add(e);const r=Zi(e);if(typeof r=="string"){const n=w(this,gt).get(r);n?n.push(e):w(this,gt).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(w(this,Ft).delete(e)){const r=Zi(e);if(typeof r=="string"){const n=w(this,gt).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&w(this,gt).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Zi(e);if(typeof r=="string"){const n=w(this,gt).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const r=Zi(e);if(typeof r=="string"){const s=(n=w(this,gt).get(r))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ge.batch(()=>{w(this,Ft).forEach(e=>{this.notify({type:"removed",mutation:e})}),w(this,Ft).clear(),w(this,gt).clear()})}getAll(){return Array.from(w(this,Ft))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Gd(r,n))}findAll(e={}){return this.getAll().filter(r=>Gd(e,r))}notify(e){ge.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return ge.batch(()=>Promise.all(e.map(r=>r.continue().catch($e))))}},Ft=new WeakMap,gt=new WeakMap,ji=new WeakMap,Qh);function Zi(t){var e;return(e=t.options.scope)==null?void 0:e.id}var zt,pr,Be,Bt,Vt,ga,ou,Jh,e0=(Jh=class extends _s{constructor(r,n){super();$(this,Vt);$(this,zt);$(this,pr);$(this,Be);$(this,Bt);P(this,zt,r),this.setOptions(n),this.bindMethods(),B(this,Vt,ga).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=w(this,zt).defaultMutationOptions(r),za(this.options,n)||w(this,zt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:w(this,Be),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&pn(n.mutationKey)!==pn(this.options.mutationKey)?this.reset():((s=w(this,Be))==null?void 0:s.state.status)==="pending"&&w(this,Be).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=w(this,Be))==null||r.removeObserver(this)}onMutationUpdate(r){B(this,Vt,ga).call(this),B(this,Vt,ou).call(this,r)}getCurrentResult(){return w(this,pr)}reset(){var r;(r=w(this,Be))==null||r.removeObserver(this),P(this,Be,void 0),B(this,Vt,ga).call(this),B(this,Vt,ou).call(this)}mutate(r,n){var s;return P(this,Bt,n),(s=w(this,Be))==null||s.removeObserver(this),P(this,Be,w(this,zt).getMutationCache().build(w(this,zt),this.options)),w(this,Be).addObserver(this),w(this,Be).execute(r)}},zt=new WeakMap,pr=new WeakMap,Be=new WeakMap,Bt=new WeakMap,Vt=new WeakSet,ga=function(){var n;const r=((n=w(this,Be))==null?void 0:n.state)??Sm();P(this,pr,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},ou=function(r){ge.batch(()=>{var n,s,i,a,o,l,u,c;if(w(this,Bt)&&this.hasListeners()){const h=w(this,pr).variables,f=w(this,pr).context,y={client:w(this,zt),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(s=(n=w(this,Bt)).onSuccess)==null||s.call(n,r.data,h,f,y)}catch(v){Promise.reject(v)}try{(a=(i=w(this,Bt)).onSettled)==null||a.call(i,r.data,null,h,f,y)}catch(v){Promise.reject(v)}}else if((r==null?void 0:r.type)==="error"){try{(l=(o=w(this,Bt)).onError)==null||l.call(o,r.error,h,f,y)}catch(v){Promise.reject(v)}try{(c=(u=w(this,Bt)).onSettled)==null||c.call(u,void 0,r.error,h,f,y)}catch(v){Promise.reject(v)}}}this.listeners.forEach(h=>{h(w(this,pr))})})},Jh),jt,Yh,t0=(Yh=class extends _s{constructor(e={}){super();$(this,jt);this.config=e,P(this,jt,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??vc(s,r);let a=this.get(i);return a||(a=new Hv({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){w(this,jt).has(e.queryHash)||(w(this,jt).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=w(this,jt).get(e.queryHash);r&&(e.destroy(),r===e&&w(this,jt).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ge.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return w(this,jt).get(e)}getAll(){return[...w(this,jt).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Hd(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Hd(e,n)):r}notify(e){ge.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){ge.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ge.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},jt=new WeakMap,Yh),oe,mr,gr,as,os,yr,ls,us,Xh,r0=(Xh=class{constructor(t={}){$(this,oe);$(this,mr);$(this,gr);$(this,as);$(this,os);$(this,yr);$(this,ls);$(this,us);P(this,oe,t.queryCache||new t0),P(this,mr,t.mutationCache||new Zv),P(this,gr,t.defaultOptions||{}),P(this,as,new Map),P(this,os,new Map),P(this,yr,0)}mount(){Ui(this,yr)._++,w(this,yr)===1&&(P(this,ls,xc.subscribe(async t=>{t&&(await this.resumePausedMutations(),w(this,oe).onFocus())})),P(this,us,Ba.subscribe(async t=>{t&&(await this.resumePausedMutations(),w(this,oe).onOnline())})))}unmount(){var t,e;Ui(this,yr)._--,w(this,yr)===0&&((t=w(this,ls))==null||t.call(this),P(this,ls,void 0),(e=w(this,us))==null||e.call(this),P(this,us,void 0))}isFetching(t){return w(this,oe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return w(this,mr).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=w(this,oe).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=w(this,oe).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Rr(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return w(this,oe).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=w(this,oe).get(n.queryHash),i=s==null?void 0:s.state.data,a=$v(e,i);if(a!==void 0)return w(this,oe).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return ge.batch(()=>w(this,oe).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=w(this,oe).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=w(this,oe);ge.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=w(this,oe);return ge.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=ge.batch(()=>w(this,oe).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then($e).catch($e)}invalidateQueries(t,e={}){return ge.batch(()=>(w(this,oe).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=ge.batch(()=>w(this,oe).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch($e)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then($e)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=w(this,oe).build(this,e);return r.isStaleByTime(Rr(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then($e).catch($e)}fetchInfiniteQuery(t){return t.behavior=th(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then($e).catch($e)}ensureInfiniteQueryData(t){return t.behavior=th(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ba.isOnline()?w(this,mr).resumePausedMutations():Promise.resolve()}getQueryCache(){return w(this,oe)}getMutationCache(){return w(this,mr)}getDefaultOptions(){return w(this,gr)}setDefaultOptions(t){P(this,gr,t)}setQueryDefaults(t,e){w(this,as).set(pn(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...w(this,as).values()],r={};return e.forEach(n=>{fi(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){w(this,os).set(pn(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...w(this,os).values()],r={};return e.forEach(n=>{fi(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...w(this,gr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=vc(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===wc&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...w(this,gr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){w(this,oe).clear(),w(this,mr).clear()}},oe=new WeakMap,mr=new WeakMap,gr=new WeakMap,as=new WeakMap,os=new WeakMap,yr=new WeakMap,ls=new WeakMap,us=new WeakMap,Xh),km=k.createContext(void 0),co=t=>{const e=k.useContext(km);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},n0=({client:t,children:e})=>(k.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(km.Provider,{value:t,children:e})),Em=k.createContext(!1),s0=()=>k.useContext(Em);Em.Provider;function i0(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var a0=k.createContext(i0()),o0=()=>k.useContext(a0),l0=(t,e,r)=>{const n=r!=null&&r.state.error&&typeof t.throwOnError=="function"?_c(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(e.isReset()||(t.retryOnMount=!1))},u0=t=>{k.useEffect(()=>{t.clearReset()},[t])},c0=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(s&&t.data===void 0||_c(r,[t.error,n])),d0=t=>{if(t.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},h0=(t,e)=>t.isLoading&&t.isFetching&&!e,f0=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,nh=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function p0(t,e,r){var f,y,v,_;const n=s0(),s=o0(),i=co(),a=i.defaultQueryOptions(t);(y=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||y.call(f,a);const o=i.getQueryCache().get(a.queryHash);a._optimisticResults=n?"isRestoring":"optimistic",d0(a),l0(a,s,o),u0(s);const l=!i.getQueryCache().get(a.queryHash),[u]=k.useState(()=>new e(i,a)),c=u.getOptimisticResult(a),h=!n&&t.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(S=>{const m=h?u.subscribe(ge.batchCalls(S)):$e;return u.updateResult(),m},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),k.useEffect(()=>{u.setOptions(a)},[a,u]),f0(a,c))throw nh(a,u,s);if(c0({result:c,errorResetBoundary:s,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw c.error;if((_=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||_.call(v,a,c),a.experimental_prefetchInRender&&!fn&&h0(c,n)){const S=l?nh(a,u,s):o==null?void 0:o.promise;S==null||S.catch($e).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?c:u.trackResult(c)}function mn(t,e){return p0(t,Gv)}function Tn(t,e){const r=co(),[n]=k.useState(()=>new e0(r,t));k.useEffect(()=>{n.setOptions(t)},[n,t]);const s=k.useSyncExternalStore(k.useCallback(a=>n.subscribe(ge.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=k.useCallback((a,o)=>{n.mutate(a,o).catch($e)},[n]);if(s.error&&_c(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pi(){return pi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pi.apply(this,arguments)}var _r;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_r||(_r={}));const sh="popstate";function m0(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:a,hash:o}=n.location;return lu("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:qa(s)}return y0(e,r,null,t)}function de(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function g0(){return Math.random().toString(36).substr(2,8)}function ih(t,e){return{usr:t.state,key:t.key,idx:e}}function lu(t,e,r,n){return r===void 0&&(r=null),pi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?xs(e):e,{state:r,key:e&&e.key||n||g0()})}function qa(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function xs(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function y0(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=_r.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(pi({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function h(){o=_r.Pop;let S=c(),m=S==null?null:S-u;u=S,l&&l({action:o,location:_.location,delta:m})}function f(S,m){o=_r.Push;let p=lu(_.location,S,m);u=c()+1;let g=ih(p,u),x=_.createHref(p);try{a.pushState(g,"",x)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(x)}i&&l&&l({action:o,location:_.location,delta:1})}function y(S,m){o=_r.Replace;let p=lu(_.location,S,m);u=c();let g=ih(p,u),x=_.createHref(p);a.replaceState(g,"",x),i&&l&&l({action:o,location:_.location,delta:0})}function v(S){let m=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof S=="string"?S:qa(S);return p=p.replace(/ $/,"%20"),de(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let _={get action(){return o},get location(){return t(s,a)},listen(S){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(sh,h),l=S,()=>{s.removeEventListener(sh,h),l=null}},createHref(S){return e(s,S)},createURL:v,encodeLocation(S){let m=v(S);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:y,go(S){return a.go(S)}};return _}var ah;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ah||(ah={}));function v0(t,e,r){return r===void 0&&(r="/"),w0(t,e,r)}function w0(t,e,r,n){let s=typeof e=="string"?xs(e):e,i=Ec(s.pathname||"/",r);if(i==null)return null;let a=bm(t);_0(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=N0(i);o=R0(a[l],u)}return o}function bm(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(de(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Or([n,l.relativePath]),c=r.concat(l);i.children&&i.children.length>0&&(de(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),bm(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:j0(u,i.index),routesMeta:c})};return t.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of Cm(i.path))s(i,a,l)}),e}function Cm(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=Cm(n.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function _0(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:T0(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const x0=/^:[\w-]+$/,S0=3,k0=2,E0=1,b0=10,C0=-2,oh=t=>t==="*";function j0(t,e){let r=t.split("/"),n=r.length;return r.some(oh)&&(n+=C0),e&&(n+=k0),r.filter(s=>!oh(s)).reduce((s,i)=>s+(x0.test(i)?S0:i===""?E0:b0),n)}function T0(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function R0(t,e,r){let{routesMeta:n}=t,s={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",h=O0({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:Or([i,h.pathname]),pathnameBase:L0(Or([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Or([i,h.pathnameBase]))}return a}function O0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=P0(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,c,h)=>{let{paramName:f,isOptional:y}=c;if(f==="*"){let _=o[h]||"";a=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const v=o[h];return y&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function P0(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),kc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function N0(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ec(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const A0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I0=t=>A0.test(t);function U0(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?xs(t):t,i;if(r)if(I0(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),kc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?i=lh(r.substring(1),"/"):i=lh(r,e)}else i=e;return{pathname:i,search:D0(n),hash:M0(s)}}function lh(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ko(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $0(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function bc(t,e){let r=$0(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Cc(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=xs(t):(s=pi({},t),de(!s.pathname||!s.pathname.includes("?"),Ko("?","pathname","search",s)),de(!s.pathname||!s.pathname.includes("#"),Ko("#","pathname","hash",s)),de(!s.search||!s.search.includes("#"),Ko("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=U0(s,o),u=a&&a!=="/"&&a.endsWith("/"),c=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Or=t=>t.join("/").replace(/\/\/+/g,"/"),L0=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),D0=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,M0=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function F0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const jm=["post","put","patch","delete"];new Set(jm);const z0=["get",...jm];new Set(z0);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mi(){return mi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mi.apply(this,arguments)}const jc=k.createContext(null),B0=k.createContext(null),$r=k.createContext(null),ho=k.createContext(null),Xt=k.createContext({outlet:null,matches:[],isDataRoute:!1}),Tm=k.createContext(null);function q0(t,e){let{relative:r}=e===void 0?{}:e;Ss()||de(!1);let{basename:n,navigator:s}=k.useContext($r),{hash:i,pathname:a,search:o}=Pm(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Or([n,a])),s.createHref({pathname:l,search:o,hash:i})}function Ss(){return k.useContext(ho)!=null}function vn(){return Ss()||de(!1),k.useContext(ho).location}function Rm(t){k.useContext($r).static||k.useLayoutEffect(t)}function fo(){let{isDataRoute:t}=k.useContext(Xt);return t?rw():W0()}function W0(){Ss()||de(!1);let t=k.useContext(jc),{basename:e,future:r,navigator:n}=k.useContext($r),{matches:s}=k.useContext(Xt),{pathname:i}=vn(),a=JSON.stringify(bc(s,r.v7_relativeSplatPath)),o=k.useRef(!1);return Rm(()=>{o.current=!0}),k.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=Cc(u,JSON.parse(a),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Or([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,a,i,t])}function Om(){let{matches:t}=k.useContext(Xt),e=t[t.length-1];return e?e.params:{}}function Pm(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=k.useContext($r),{matches:s}=k.useContext(Xt),{pathname:i}=vn(),a=JSON.stringify(bc(s,n.v7_relativeSplatPath));return k.useMemo(()=>Cc(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function K0(t,e){return V0(t,e)}function V0(t,e,r,n){Ss()||de(!1);let{navigator:s}=k.useContext($r),{matches:i}=k.useContext(Xt),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=vn(),c;if(e){var h;let S=typeof e=="string"?xs(e):e;l==="/"||(h=S.pathname)!=null&&h.startsWith(l)||de(!1),c=S}else c=u;let f=c.pathname||"/",y=f;if(l!=="/"){let S=l.replace(/^\//,"").split("/");y="/"+f.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=v0(t,{pathname:y}),_=Y0(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:Or([l,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:Or([l,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,r,n);return e&&_?k.createElement(ho.Provider,{value:{location:mi({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:_r.Pop}},_):_}function H0(){let t=tw(),e=F0(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),r?k.createElement("pre",{style:s},r):null,null)}const G0=k.createElement(H0,null);class Q0 extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?k.createElement(Xt.Provider,{value:this.props.routeContext},k.createElement(Tm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function J0(t){let{routeContext:e,match:r,children:n}=t,s=k.useContext(jc);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(Xt.Provider,{value:e},n)}function Y0(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(s=r)==null?void 0:s.errors;if(o!=null){let c=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);c>=0||de(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<a.length;c++){let h=a[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:f,errors:y}=r,v=h.route.loader&&f[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||v){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,h,f)=>{let y,v=!1,_=null,S=null;r&&(y=o&&h.route.id?o[h.route.id]:void 0,_=h.route.errorElement||G0,l&&(u<0&&f===0?(nw("route-fallback"),v=!0,S=null):u===f&&(v=!0,S=h.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,f+1)),p=()=>{let g;return y?g=_:v?g=S:h.route.Component?g=k.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=c,k.createElement(J0,{match:h,routeContext:{outlet:c,matches:m,isDataRoute:r!=null},children:g})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?k.createElement(Q0,{location:r.location,revalidation:r.revalidation,component:_,error:y,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var Nm=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Nm||{}),Am=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Am||{});function X0(t){let e=k.useContext(jc);return e||de(!1),e}function Z0(t){let e=k.useContext(B0);return e||de(!1),e}function ew(t){let e=k.useContext(Xt);return e||de(!1),e}function Im(t){let e=ew(),r=e.matches[e.matches.length-1];return r.route.id||de(!1),r.route.id}function tw(){var t;let e=k.useContext(Tm),r=Z0(),n=Im();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function rw(){let{router:t}=X0(Nm.UseNavigateStable),e=Im(Am.UseNavigateStable),r=k.useRef(!1);return Rm(()=>{r.current=!0}),k.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,mi({fromRouteId:e},i)))},[t,e])}const uh={};function nw(t,e,r){uh[t]||(uh[t]=!0)}function sw(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function gi(t){let{to:e,replace:r,state:n,relative:s}=t;Ss()||de(!1);let{future:i,static:a}=k.useContext($r),{matches:o}=k.useContext(Xt),{pathname:l}=vn(),u=fo(),c=Cc(e,bc(o,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(c);return k.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function rr(t){de(!1)}function iw(t){let{basename:e="/",children:r=null,location:n,navigationType:s=_r.Pop,navigator:i,static:a=!1,future:o}=t;Ss()&&de(!1);let l=e.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:i,static:a,future:mi({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof n=="string"&&(n=xs(n));let{pathname:c="/",search:h="",hash:f="",state:y=null,key:v="default"}=n,_=k.useMemo(()=>{let S=Ec(c,l);return S==null?null:{location:{pathname:S,search:h,hash:f,state:y,key:v},navigationType:s}},[l,c,h,f,y,v,s]);return _==null?null:k.createElement($r.Provider,{value:u},k.createElement(ho.Provider,{children:r,value:_}))}function aw(t){let{children:e,location:r}=t;return K0(uu(e),r)}new Promise(()=>{});function uu(t,e){e===void 0&&(e=[]);let r=[];return k.Children.forEach(t,(n,s)=>{if(!k.isValidElement(n))return;let i=[...e,s];if(n.type===k.Fragment){r.push.apply(r,uu(n.props.children,i));return}n.type!==rr&&de(!1),!n.props.index||!n.props.children||de(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=uu(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cu.apply(this,arguments)}function ow(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function lw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function uw(t,e){return t.button===0&&(!e||e==="_self")&&!lw(t)}const cw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],dw="6";try{window.__reactRouterVersion=dw}catch{}const hw="startTransition",ch=Sg[hw];function fw(t){let{basename:e,children:r,future:n,window:s}=t,i=k.useRef();i.current==null&&(i.current=m0({window:s,v5Compat:!0}));let a=i.current,[o,l]=k.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},c=k.useCallback(h=>{u&&ch?ch(()=>l(h)):l(h)},[l,u]);return k.useLayoutEffect(()=>a.listen(c),[a,c]),k.useEffect(()=>sw(n),[n]),k.createElement(iw,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const pw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pt=k.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:u,preventScrollReset:c,viewTransition:h}=e,f=ow(e,cw),{basename:y}=k.useContext($r),v,_=!1;if(typeof u=="string"&&mw.test(u)&&(v=u,pw))try{let g=new URL(window.location.href),x=u.startsWith("//")?new URL(g.protocol+u):new URL(u),E=Ec(x.pathname,y);x.origin===g.origin&&E!=null?u=E+x.search+x.hash:_=!0}catch{}let S=q0(u,{relative:s}),m=gw(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:s,viewTransition:h});function p(g){n&&n(g),g.defaultPrevented||m(g)}return k.createElement("a",cu({},f,{href:v||S,onClick:_||i?n:p,ref:r,target:l}))});var dh;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(dh||(dh={}));var hh;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(hh||(hh={}));function gw(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=e===void 0?{}:e,l=fo(),u=vn(),c=Pm(t,{relative:a});return k.useCallback(h=>{if(uw(h,r)){h.preventDefault();let f=n!==void 0?n:qa(u)===qa(c);l(t,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[u,l,c,n,s,r,t,i,a,o])}const Um=k.createContext(void 0),fh="prayer_auth",ph="prayer_admin";function yw({children:t}){const[e,r]=k.useState(()=>sessionStorage.getItem(fh)==="true"),[n,s]=k.useState(()=>sessionStorage.getItem(ph)==="true");k.useEffect(()=>{sessionStorage.setItem(fh,String(e))},[e]),k.useEffect(()=>{sessionStorage.setItem(ph,String(n))},[n]);const i=()=>r(!0),a=()=>{r(!1),s(!1)},o=l=>s(l);return d.jsx(Um.Provider,{value:{isAuthenticated:e,isAdmin:n,login:i,logout:a,setAdminMode:o},children:t})}function wn(){const t=k.useContext(Um);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function po(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function vw(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(c){try{u(n.next(c))}catch(h){a(h)}}function l(c){try{u(n.throw(c))}catch(h){a(h)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((n=n.apply(t,e||[])).next())})}const ww=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Tc extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class _w extends Tc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class mh extends Tc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class gh extends Tc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var du;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(du||(du={}));class xw{constructor(e,{headers:r={},customFetch:n,region:s=du.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=ww(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return vw(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:o,method:l,body:u,signal:c,timeout:h}=n;let f={},{region:y}=n;y||(y=this.region);const v=new URL(`${this.url}/${r}`);y&&y!=="any"&&(f["x-region"]=y,v.searchParams.set("forceFunctionRegion",y));let _;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",_=u):typeof u=="string"?(f["Content-Type"]="text/plain",_=u):typeof FormData<"u"&&u instanceof FormData?_=u:(f["Content-Type"]="application/json",_=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?_=JSON.stringify(u):_=u;let S=c;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),c?(S=a.signal,c.addEventListener("abort",()=>a.abort())):S=a.signal);const m=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:_,signal:S}).catch(E=>{throw new _w(E)}),p=m.headers.get("x-relay-error");if(p&&p==="true")throw new mh(m);if(!m.ok)throw new gh(m);let g=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return g==="application/json"?x=yield m.json():g==="application/octet-stream"||g==="application/pdf"?x=yield m.blob():g==="text/event-stream"?x=m:g==="multipart/form-data"?x=yield m.formData():x=yield m.text(),{data:x,error:null,response:m}}catch(o){return{data:null,error:o,response:o instanceof gh||o instanceof mh?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var Sw=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},kw=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,o=null,l=null,u=i.status,c=i.statusText;if(i.ok){var h,f;if(r.method!=="HEAD"){var y;const m=await i.text();m===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((y=r.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?o=m:o=JSON.parse(m))}const _=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),S=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");_&&S&&S.length>1&&(l=parseInt(S[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,c="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var v;const _=await i.text();try{a=JSON.parse(_),Array.isArray(a)&&i.status===404&&(o=[],a=null,u=200,c="OK")}catch{i.status===404&&_===""?(u=204,c="No Content"):a={message:_}}if(a&&r.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,u=200,c="OK"),a&&r.shouldThrowOnError)throw new Sw(a)}return{error:a,data:o,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let o="";const l=i==null?void 0:i.cause;if(l){var u,c,h,f;const v=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",_=(c=l==null?void 0:l.code)!==null&&c!==void 0?c:"";o=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,o+=`

Caused by: ${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"Error"}: ${v}`,_&&(o+=` (${_})`),l!=null&&l.stack&&(o+=`
${l.stack}`)}else{var y;o=(y=i==null?void 0:i.stack)!==null&&y!==void 0?y:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},Ew=class extends kw{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const o=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const yh=new RegExp("[,()]");var Rn=class extends Ew{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&yh.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&yh.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},bw=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),n&&l.append("Prefer",`count=${n}`),new Rn({method:s,url:o,headers:l,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),r||a.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);i.searchParams.set("columns",l.join(","))}}return new Rn({method:s,url:i,headers:a,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&o.searchParams.set("on_conflict",e),n&&l.append("Prefer",`count=${n}`),s||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);o.searchParams.set("columns",c.join(","))}}return new Rn({method:a,url:o,headers:l,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Rn({method:n,url:s,headers:i,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Rn({method:r,url:n,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Cw=class $m{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new bw(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new $m(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let o;const l=new URL(`${this.url}/rpc/${e}`);let u;const c=y=>y!==null&&typeof y=="object"&&(!Array.isArray(y)||y.some(c)),h=n&&Object.values(r).some(c);h?(o="POST",u=r):n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([y,v])=>v!==void 0).map(([y,v])=>[y,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([y,v])=>{l.searchParams.append(y,v)})):(o="POST",u=r);const f=new Headers(this.headers);return h?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new Rn({method:o,url:l,headers:f,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class jw{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Tw="2.91.0",Rw=`realtime-js/${Tw}`,Ow="1.0.0",Lm="2.0.0",vh=Lm,hu=1e4,Pw=1e3,Nw=100;var ir;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ir||(ir={}));var pe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pe||(pe={}));var vt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(vt||(vt={}));var fu;(function(t){t.websocket="websocket"})(fu||(fu={}));var qr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(qr||(qr={}));class Aw{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var s,i;const a=e.topic,o=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+u.length+h.length,y=new ArrayBuffer(this.HEADER_LENGTH+f);let v=new DataView(y),_=0;v.setUint8(_++,this.KINDS.userBroadcastPush),v.setUint8(_++,l.length),v.setUint8(_++,o.length),v.setUint8(_++,a.length),v.setUint8(_++,u.length),v.setUint8(_++,h.length),v.setUint8(_++,r),Array.from(l,m=>v.setUint8(_++,m.charCodeAt(0))),Array.from(o,m=>v.setUint8(_++,m.charCodeAt(0))),Array.from(a,m=>v.setUint8(_++,m.charCodeAt(0))),Array.from(u,m=>v.setUint8(_++,m.charCodeAt(0))),Array.from(h,m=>v.setUint8(_++,m.charCodeAt(0)));var S=new Uint8Array(y.byteLength+n.byteLength);return S.set(new Uint8Array(y),0),S.set(new Uint8Array(n),y.byteLength),S.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,a,o,l]=n;return r({join_ref:s,ref:i,topic:a,event:o,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+s));l=l+s;const c=n.decode(e.slice(l,l+i));l=l+i;const h=n.decode(e.slice(l,l+a));l=l+a;const f=e.slice(l,e.byteLength),y=o===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,v={type:this.BROADCAST_EVENT,event:c,payload:y};return a>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class Dm{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Y;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Y||(Y={}));const wh=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,a)=>(i[a]=Iw(a,t,e,s),i),{}):{}},Iw=(t,e,r,n)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?Mm(i,a):pu(a)},Mm=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Dw(e,r)}switch(t){case Y.bool:return Uw(e);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return $w(e);case Y.json:case Y.jsonb:return Lw(e);case Y.timestamp:return Mw(e);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return pu(e);default:return pu(e)}},pu=t=>t,Uw=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},$w=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Lw=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},Dw=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Mm(e,o))}return t},Mw=t=>typeof t=="string"?t.replace(" ","T"):t,Fm=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Vo{constructor(e,r,n={},s=hu){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var _h;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(_h||(_h={}));class Gs{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gs.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=Gs.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Gs.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(i,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const h=i[u];if(h){const f=c.map(S=>S.presence_ref),y=h.map(S=>S.presence_ref),v=c.filter(S=>y.indexOf(S.presence_ref)<0),_=h.filter(S=>f.indexOf(S.presence_ref)<0);v.length>0&&(o[u]=v),_.length>0&&(l[u]=_)}else o[u]=c}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var u;const c=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),c.length>0){const h=e[o].map(y=>y.presence_ref),f=c.filter(y=>h.indexOf(y.presence_ref)<0);e[o].unshift(...f)}n(o,c,l)}),this.map(a,(o,l)=>{let u=e[o];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[o]=u,s(o,u,l),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xh;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(xh||(xh={}));var Qs;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Qs||(Qs={}));var Lt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Lt||(Lt={}));class Wn{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Vo(this,vt.join,this.params,this.timeout),this.rejoinTimer=new Dm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pe.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vt.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Gs(this),this.broadcastEndpointURL=Fm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==pe.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[Qs.PRESENCE]&&this.bindings[Qs.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(Lt.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(Lt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){e==null||e(Lt.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,S=(v=_==null?void 0:_.length)!==null&&v!==void 0?v:0,m=[];for(let p=0;p<S;p++){const g=_[p],{filter:{event:x,schema:E,table:C,filter:j}}=g,R=y&&y[p];if(R&&R.event===x&&Wn.isFilterValueEqual(R.schema,E)&&Wn.isFilterValueEqual(R.table,C)&&Wn.isFilterValueEqual(R.filter,j))m.push(Object.assign(Object.assign({},g),{id:R.id}));else{this.unsubscribe(),this.state=pe.errored,e==null||e(Lt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(Lt.SUBSCRIBED);return}}).receive("error",y=>{this.state=pe.errored,e==null||e(Lt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Lt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===pe.joined&&e===Qs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Vo(this,vt.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pe.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Vo(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Nw){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:c}=vt;if(n&&[o,l,u,c].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,_,S;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((S=(_=y.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===a}).map(y=>y.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(y=>{var v,_,S,m,p,g,x,E;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in y){const C=y.id,j=(v=y.filter)===null||v===void 0?void 0:v.event;return C&&((_=r.ids)===null||_===void 0?void 0:_.includes(C))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))&&(!(!((m=y.filter)===null||m===void 0)&&m.table)||y.filter.table===((p=r.data)===null||p===void 0?void 0:p.table))}else{const C=(x=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return C==="*"||C===((E=r==null?void 0:r.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===a}).map(y=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:_,table:S,commit_timestamp:m,type:p,errors:g}=v;f=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:m,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(v))}y.callback(f,n)})}_isClosed(){return this.state===pe.closed}_isJoined(){return this.state===pe.joined}_isJoining(){return this.state===pe.joining}_isLeaving(){return this.state===pe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Wn.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(vt.close,{},e)}_onError(e){this._on(vt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=wh(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=wh(e.columns,e.old_record)),r}}const Ho=()=>{},ea={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Fw=[1e3,2e3,5e3,1e4],zw=1e4,Bw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qw{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hu,this.transport=null,this.heartbeatIntervalMs=ea.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ho,this.ref=0,this.reconnectTimer=null,this.vsn=vh,this.logger=Ho,this.conn=null,this.sendBuffer=[],this.serializer=new Aw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${fu.websocket}`,this.httpEndpoint=Fm(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jw.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ir.connecting:return qr.Connecting;case ir.open:return qr.Open;case ir.closing:return qr.Closing;default:return qr.Closed}}isConnected(){return this.connectionState()===qr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Wn(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Pw,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ea.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:a}=r,o=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===ir.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ir.open||this.conn.readyState===ir.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(vt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Bw],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:Rw};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(vt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Dm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ea.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,a,o,l,u,c,h,f,y;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:hu,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ea.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:Ho,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:vh,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>Fw[v-1]||zw,this.vsn){case Ow:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(v,_)=>_(JSON.stringify(v)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(v,_)=>_(JSON.parse(v));break;case Lm:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(y=e==null?void 0:e.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var yi=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Ww(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function Kw(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Vw(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const o=Ww(t.baseUrl,n,s),l=await Kw(t.auth),u=await e(o,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...a},body:i?JSON.stringify(i):void 0}),c=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&c?JSON.parse(c):c;if(!u.ok){const y=h?f:void 0,v=y==null?void 0:y.error;throw new yi((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:y})}return{status:u.status,headers:u.headers,data:f}}}}function ta(t){return t.join("")}var Hw=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:ta(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ta(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ta(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ta(t.namespace)}`}),!0}catch(e){if(e instanceof yi&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof yi&&r.status===409)return;throw r}}};function xn(t){return t.join("")}var Gw=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xn(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${xn(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${xn(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xn(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xn(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xn(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof yi&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof yi&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},Qw=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Vw({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Hw(this.client,e),this.tableOps=new Gw(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},mo=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ne(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Jw=class extends mo{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},mu=class extends mo{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Rc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Yw=()=>Response,gu=t=>{if(Array.isArray(t))return t.map(r=>gu(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=gu(n)}),e},Xw=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Zw=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function vi(t){"@babel/helpers - typeof";return vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vi(t)}function e_(t,e){if(vi(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t_(t){var e=e_(t,"string");return vi(e)=="symbol"?e:e+""}function r_(t,e,r){return(e=t_(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sh(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function M(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Sh(Object(r),!0).forEach(function(n){r_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sh(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Go=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},n_=async(t,e,r)=>{t instanceof await Yw()&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const s=t.status||500,i=(n==null?void 0:n.statusCode)||s+"";e(new Jw(Go(n),s,i))}).catch(n=>{e(new mu(Go(n),n))}):e(new mu(Go(t),t))},s_=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(Xw(n)?(s.headers=M({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),M(M({},s),r))};async function Ai(t,e,r,n,s,i){return new Promise((a,o)=>{t(r,s_(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>n_(l,o,n))})}async function wi(t,e,r,n){return Ai(t,"GET",e,r,n)}async function pt(t,e,r,n,s){return Ai(t,"POST",e,n,s,r)}async function yu(t,e,r,n,s){return Ai(t,"PUT",e,n,s,r)}async function i_(t,e,r,n){return Ai(t,"HEAD",e,M(M({},r),{},{noResolveJson:!0}),n)}async function Oc(t,e,r,n,s){return Ai(t,"DELETE",e,n,s,r)}var a_=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ne(e))return{data:null,error:e};throw e}}};let zm;zm=Symbol.toStringTag;var o_=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[zm]="BlobDownloadBuilder",this.promise=null}asStream(){return new a_(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ne(e))return{data:null,error:e};throw e}}};const l_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var u_=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=Rc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var s=this;try{let i;const a=M(M({},kh),n);let o=M(M({},s.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(o=M(M({},o),n.headers));const u=s._removeEmptyFolders(e),c=s._getFinalPath(u),h=await(t=="PUT"?yu:pt)(s.fetch,`${s.url}/object/${c}`,i,M({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(ne(i))return{data:null,error:i};throw i}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const i=s._removeEmptyFolders(t),a=s._getFinalPath(i),o=new URL(s.url+`/object/upload/sign/${a}`);o.searchParams.set("token",e);try{let l;const u=M({upsert:kh.upsert},n),c=M(M({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{data:{path:i,fullPath:(await yu(s.fetch,o.toString(),l,{headers:c})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(ne(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const s=M({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await pt(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),o=a.searchParams.get("token");if(!o)throw new mo("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await pt(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}}async copy(t,e,r){var n=this;try{return{data:{path:(await pt(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}}async createSignedUrl(t,e,r){var n=this;try{let s=n._getFinalPath(t),i=await pt(n.fetch,`${n.url}/object/sign/${s}`,M({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}}async createSignedUrls(t,e,r){var n=this;try{const s=await pt(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>M(M({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(t),a=()=>wi(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new o_(a,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:gu(await wi(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await i_(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ne(n)&&n instanceof mu){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&n.push(a);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${o}`)}}}async remove(t){var e=this;try{return{data:await Oc(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const s=M(M(M({},l_),e),{},{prefix:t||""});return{data:await pt(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ne(s))return{data:null,error:s};throw s}}async listV2(t,e){var r=this;try{const n=M({},t);return{data:await pt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Bm="2.91.0",qm={"X-Client-Info":`storage-js/${Bm}`};var c_=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=M(M({},qm),e),this.fetch=Rc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await wi(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await wi(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await pt(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await yu(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ne(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await pt(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Oc(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},d_=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=M(M({},qm),e),this.fetch=Rc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await pt(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await wi(e.fetch,s,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Oc(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ne(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!Zw(t))throw new mo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Qw({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(s,o),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const Pc={"X-Client-Info":`storage-js/${Bm}`,"Content-Type":"application/json"};var Wm=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Je(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Qo=class extends Wm{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},h_=class extends Wm{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const Nc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),f_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Eh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),p_=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,s=t;if(typeof s.json=="function")s.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";e(new Qo(Eh(i),n,a))}).catch(()=>{const i=n+"";e(new Qo(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";e(new Qo(s.statusText||`HTTP ${n} error`,n,i))}}else e(new h_(Eh(t),t))},m_=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(f_(n)?(s.headers=M({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,M(M({},s),r)):s};async function g_(t,e,r,n,s,i){return new Promise((a,o)=>{t(r,m_(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>p_(l,o,n))})}async function Ye(t,e,r,n,s){return g_(t,"POST",e,n,s,r)}var y_=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=M(M({},Pc),e),this.fetch=Nc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Ye(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await Ye(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await Ye(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await Ye(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}}},v_=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=M(M({},Pc),e),this.fetch=Nc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ye(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await Ye(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Ye(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await Ye(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ye(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}},w_=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=M(M({},Pc),e),this.fetch=Nc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Ye(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Ye(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await Ye(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Ye(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}}},__=class extends w_{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new x_(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},x_=class extends y_{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,M(M({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,M(M({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new S_(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},S_=class extends v_{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,M(M({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,M(M({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,M(M({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,M(M({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,M(M({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},k_=class extends c_{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new u_(this.url,this.headers,t,this.fetch)}get vectors(){return new __(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new d_(this.url+"/iceberg",this.headers,this.fetch)}};const Km="2.91.0",On=30*1e3,vu=3,Jo=vu*On,E_="http://localhost:9999",b_="supabase.auth.token",C_={"X-Client-Info":`gotrue-js/${Km}`},wu="X-Supabase-Api-Version",Vm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},j_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,T_=10*60*1e3;class _i extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function I(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class R_ extends _i{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function O_(t){return I(t)&&t.name==="AuthApiError"}class Wr extends _i{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Zt extends _i{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Ge extends Zt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function P_(t){return I(t)&&t.name==="AuthSessionMissingError"}class Sn extends Zt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ra extends Zt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class na extends Zt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function N_(t){return I(t)&&t.name==="AuthImplicitGrantRedirectError"}class bh extends Zt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class A_ extends Zt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class _u extends Zt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Yo(t){return I(t)&&t.name==="AuthRetryableFetchError"}class Ch extends Zt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class xu extends Zt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jh=` 	
\r=`.split(""),I_=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<jh.length;e+=1)t[jh[e].charCodeAt(0)]=-2;for(let e=0;e<Wa.length;e+=1)t[Wa[e].charCodeAt(0)]=e;return t})();function Th(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Wa[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Wa[n]),e.queuedBits-=6}}function Hm(t,e,r){const n=I_[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Rh(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{L_(a,n,r)};for(let a=0;a<t.length;a+=1)Hm(t.charCodeAt(a),s,i);return e.join("")}function U_(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function $_(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}U_(n,e)}}function L_(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Yn(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Hm(t.charCodeAt(s),r,n);return new Uint8Array(e)}function D_(t){const e=[];return $_(t,r=>e.push(r)),new Uint8Array(e)}function Qr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Th(s,r,n)),Th(null,r,n),e.join("")}function M_(t){return Math.round(Date.now()/1e3)+t}function F_(){return Symbol("auth-callback")}const Ee=()=>typeof window<"u"&&typeof document<"u",Dr={tested:!1,writable:!1},Gm=()=>{if(!Ee())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Dr.tested)return Dr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Dr.tested=!0,Dr.writable=!0}catch{Dr.tested=!0,Dr.writable=!1}return Dr.writable};function z_(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Qm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),B_=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Pn=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Mr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ke=async(t,e)=>{await t.removeItem(e)};class go{constructor(){this.promise=new go.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}go.promiseConstructor=Promise;function Xo(t){const e=t.split(".");if(e.length!==3)throw new xu("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!j_.test(e[n]))throw new xu("JWT not in base64url format");return{header:JSON.parse(Rh(e[0])),payload:JSON.parse(Rh(e[1])),signature:Yn(e[2]),raw:{header:e[0],payload:e[1]}}}async function q_(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function W_(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function K_(t){return("0"+t.toString(16)).substr(-2)}function V_(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,K_).join("")}async function H_(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function G_(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await H_(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kn(t,e,r=!1){const n=V_();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Pn(t,`${e}-code-verifier`,s);const i=await G_(n);return[i,n===i?"plain":"s256"]}const Q_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function J_(t){const e=t.headers.get(wu);if(!e||!e.match(Q_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Y_(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function X_(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Z_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function En(t){if(!Z_.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zo(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ex(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function Oh(t){return JSON.parse(JSON.stringify(t))}const Br=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tx=[502,503,504];async function Ph(t){var e;if(!B_(t))throw new _u(Br(t),0);if(tx.includes(t.status))throw new _u(Br(t),t.status);let r;try{r=await t.json()}catch(i){throw new Wr(Br(i),i)}let n;const s=J_(t);if(s&&s.getTime()>=Vm["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ch(Br(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ge}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Ch(Br(r),t.status,r.weak_password.reasons);throw new R_(Br(r),t.status||500,n)}const rx=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function D(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[wu]||(i[wu]=Vm["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await nx(t,e,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function nx(t,e,r,n,s,i){const a=rx(e,n,s,i);let o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new _u(Br(l),0)}if(o.ok||await Ph(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await Ph(l)}}function ht(t){var e;let r=null;ax(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=M_(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Nh(t){const e=ht(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function lr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function sx(t){return{data:t,error:null}}function ix(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=po(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function Ah(t){return t}function ax(t){return t.access_token&&t.refresh_token&&t.expires_in}const el=["global","local","others"];class ox{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Qm(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=el[0]){if(el.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${el.join(", ")}`);try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:lr})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=po(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ix,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(I(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:lr})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ah});if(c.error)throw c.error;const h=await c.json(),f=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);u[`${S}Page`]=_}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(I(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){En(e);try{return await D(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:lr})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){En(e);try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:lr})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){En(e);try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:lr})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){En(e.userId);try{const{data:r,error:n}=await D(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteFactor(e){En(e.userId),En(e.id);try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await D(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ah});if(c.error)throw c.error;const h=await c.json(),f=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);u[`${S}Page`]=_}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(I(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await D(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await D(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await D(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await D(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await D(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}}function Ih(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const bn={debug:!!(globalThis&&Gm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Jm extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class lx extends Jm{}async function ux(t,e,r){bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),bn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new lx(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(bn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function cx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ym(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function dx(t){return parseInt(t,16)}function hx(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function fx(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:c,uri:h,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const y=Ym(t.address),v=c?`${c}://${n}`:n,_=t.statement?`${t.statement}
`:"",S=`${v} wants you to sign in with your Ethereum account:
${y}

${_}`;let m=`URI: ${h}
Version: ${f}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(m+=`
Expiration Time: ${s.toISOString()}`),o&&(m+=`
Not Before: ${o.toISOString()}`),l&&(m+=`
Request ID: ${l}`),u){let p=`
Resources:`;for(const g of u){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);p+=`
- ${g}`}m+=p}return`${S}
${m}`}class he extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Ka extends he{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function px({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new he({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new he({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new he({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new he({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new he({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new he({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new he({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new he({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Xm(a)){if(i.rp.id!==a)return new he({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new he({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new he({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new he({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new he({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function mx({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new he({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new he({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Xm(n)){if(r.rpId!==n)return new he({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new he({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new he({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new he({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class gx{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const yx=new gx;function vx(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=po(t,["challenge","user","excludeCredentials"]),i=Yn(e).buffer,a=Object.assign(Object.assign({},r),{id:Yn(r.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Yn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function wx(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=po(t,["challenge","allowCredentials"]),s=Yn(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:Yn(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function _x(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Qr(new Uint8Array(t.response.attestationObject)),clientDataJSON:Qr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function xx(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Qr(new Uint8Array(s.authenticatorData)),clientDataJSON:Qr(new Uint8Array(s.clientDataJSON)),signature:Qr(new Uint8Array(s.signature)),userHandle:s.userHandle?Qr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Xm(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Uh(){var t,e;return!!(Ee()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Sx(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ka("Browser returned unexpected credential type",e)}:{data:null,error:new Ka("Empty credential response",e)}}catch(e){return{data:null,error:px({error:e,options:t})}}}async function kx(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ka("Browser returned unexpected credential type",e)}:{data:null,error:new Ka("Empty credential response",e)}}catch(e){return{data:null,error:mx({error:e,options:t})}}}const Ex={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},bx={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Va(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(e(a)){const o=n[i];e(o)?n[i]=Va(o,a):n[i]=Va(a)}else n[i]=a}return n}function Cx(t,e){return Va(Ex,t,e||{})}function jx(t,e){return Va(bx,t,e||{})}class Tx{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:o};const l=s??yx.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=Cx(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:h}=await Sx({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}case"request":{const u=jx(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:h}=await kx(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}}}catch(a){return I(a)?{data:null,error:a}:{data:null,error:new Wr("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new _i("rpId is required for WebAuthn authentication")};try{if(!Uh())return{data:null,error:new Wr("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return I(a)?{data:null,error:a}:{data:null,error:new Wr("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new _i("rpId is required for WebAuthn registration")};try{if(!Uh())return{data:null,error:new Wr("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(c=>{var h;return(h=c.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return I(a)?{data:null,error:a}:{data:null,error:new Wr("Unexpected error in register",a)}}}}cx();const Rx={url:E_,storageKey:b_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:C_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function $h(t,e,r){return await r()}const Cn={};class xi{get jwks(){var e,r;return(r=(e=Cn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Cn[this.storageKey]=Object.assign(Object.assign({},Cn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Cn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Cn[this.storageKey]=Object.assign(Object.assign({},Cn[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Rx),e);if(this.storageKey=i.storageKey,this.instanceID=(r=xi.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,xi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ee()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new ox({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Qm(i.fetch),this.lock=i.lock||$h,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Ee()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ux:this.lock=$h,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Tx(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Gm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ih(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ih(this.memoryStorage)),Ee()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Km}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Ee()&&(r=z_(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ee()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),N_(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return I(r)?this._returnResult({error:r}):this._returnResult({error:new Wr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ht}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:c,password:h,options:f}=e;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await kn(this.storage,this.storageKey)),i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:v},xform:ht})}else if("phone"in e){const{phone:c,password:h,options:f}=e;i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ht})}else throw new ra("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return await ke(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await ke(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:o}=e;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Nh})}else if("phone"in e){const{phone:i,password:a,options:o}=e;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Nh})}else throw new ra("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Sn;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,a,o,l,u,c,h,f;let y,v;if("message"in e)y=e.message,v=e.signature;else{const{chain:_,wallet:S,statement:m,options:p}=e;let g;if(Ee())if(typeof S=="object")g=S;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")g=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=S}const x=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),E=await g.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=Ym(E[0]);let j=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const F=await g.request({method:"eth_chainId"});j=dx(F)}const R={domain:x.host,address:C,statement:m,uri:x.href,version:"1",chainId:j,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=p==null?void 0:p.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.resources};y=fx(R),v=await g.request({method:"personal_sign",params:[hx(y),C]})}try{const{data:_,error:S}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:v},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ht});if(S)throw S;if(!_||!_.session||!_.user){const m=new Sn;return this._returnResult({data:{user:null,session:null},error:m})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:S})}catch(_){if(I(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var r,n,s,i,a,o,l,u,c,h,f,y;let v,_;if("message"in e)v=e.message,_=e.signature;else{const{chain:S,wallet:m,statement:p,options:g}=e;let x;if(Ee())if(typeof m=="object")x=m;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))x=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=m}const E=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in x&&x.signIn){const C=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),p?{statement:p}:null));let j;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")j=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)j=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)v=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),_=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${E.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(c=g==null?void 0:g.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const C=await x.signMessage(new TextEncoder().encode(v),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=C}}try{const{data:S,error:m}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Qr(_)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ht});if(m)throw m;if(!S||!S.session||!S.user){const p=new Sn;return this._returnResult({data:{user:null,session:null},error:p})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:m})}catch(S){if(I(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const r=await Mr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new A_;const{data:i,error:a}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ht});if(await ke(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const o=new Sn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",i.session)},0)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await ke(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,o=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ht}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Sn;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:o,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await kn(this.storage,this.storageKey));const{error:h}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:c}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new ra("You must provide either an email or phone number.")}catch(o){if(await ke(this.storage,`${this.storageKey}-code-verifier`),I(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ht});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await kn(this.storage,this.storageKey));const u=await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:sx});return!((i=u.data)===null||i===void 0)&&i.url&&Ee()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await ke(this.storage,`${this.storageKey}-code-verifier`),I(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ge;const{error:s}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(I(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await D(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:o}=await D(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new ra("You must provide either an email or phone number and a type")}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Mr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Jo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await Mr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Zo()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=ex(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:lr}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ge}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:lr})})}catch(r){if(I(r))return P_(r)&&(await this._removeSession(),await ke(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ge;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await kn(this.storage,this.storageKey));const{data:u,error:c}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:lr});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await ke(this.storage,`${this.storageKey}-code-verifier`),I(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ge;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Xo(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(I(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ge;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ee())throw new na("No browser detected.");if(e.error||e.error_description||e.error_code)throw new na(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new bh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new na("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new bh("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=e;if(!i||!o||!a||!u)throw new na("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(o);let f=c+h;l&&(f=parseInt(l));const y=f-c;y*1e3<=On&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const v=f-h;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,c);const{data:_,error:S}=await this._getUser(i);if(S)throw S;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:m,redirectType:e.type},error:null})}catch(n){if(I(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Mr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(O_(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await ke(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=F_(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await kn(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await ke(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,u,c;const{data:h,error:f}=i;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",y,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Ee()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(I(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:o,token:l,access_token:u,nonce:c}=e,h=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ht}),{data:f,error:y}=h;return y?this._returnResult({data:{user:null,session:null},error:y}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Sn}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:y}))}catch(s){if(await ke(this.storage,`${this.storageKey}-code-verifier`),I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await W_(async s=>(s>0&&await q_(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ht})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Yo(i)&&Date.now()+a-n<On})}catch(n){if(this._debug(r,"error",n),I(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ee()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Mr(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Mr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Pn(this.userStorage,this.storageKey+"-user",a)),s.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Zo()}else if(s&&!s.user&&!s.user){const a=await Mr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await ke(this.storage,this.storageKey+"-user"),await Pn(this.storage,this.storageKey,s)):s.user=Zo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Jo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Jo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Yo(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ge;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new go;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new Ge;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),I(i)){const a={data:null,error:i};return Yo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ke(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Pn(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Oh(s);await Pn(this.storage,this.storageKey,i)}else{const s=Oh(r);await Pn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ke(this.storage,this.storageKey),await ke(this.storage,this.storageKey+"-code-verifier"),await ke(this.storage,this.storageKey+"-user"),this.userStorage&&await ke(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ee()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),On);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/On);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${On}ms, refresh threshold is ${vu} ticks`),s<=vu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Jm)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ee()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await kn(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await D(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await D(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?_x(e.webauthn.credential_response):xx(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:vx(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:wx(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Xo(n.access_token);let a=null;i.aal&&(a=i.aal);let o=a;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await D(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ge})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ge});const a=await D(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Ee()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ge});const a=await D(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Ee()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await D(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ge})})}catch(e){if(I(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await D(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ge})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+T_>s)return n;const{data:i,error:a}=await D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:y,error:v}=await this.getSession();if(v||!y.session)return this._returnResult({data:null,error:v});n=y.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=Xo(n);r!=null&&r.allowExpired||Y_(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:a},error:null}}const c=X_(s.alg),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,a,D_(`${o}.${l}`)))throw new xu("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}}xi.nextInstanceID={};const Ox=xi,Px="2.91.0";let Ds="";typeof Deno<"u"?Ds="deno":typeof document<"u"?Ds="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ds="react-native":Ds="node";const Nx={"X-Client-Info":`supabase-js-${Ds}/${Px}`},Ax={headers:Nx},Ix={schema:"public"},Ux={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$x={};function Si(t){"@babel/helpers - typeof";return Si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Si(t)}function Lx(t,e){if(Si(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Si(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dx(t){var e=Lx(t,"string");return Si(e)=="symbol"?e:e+""}function Mx(t,e,r){return(e=Dx(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lh(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function le(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lh(Object(r),!0).forEach(function(n){Mx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lh(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Fx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),zx=()=>Headers,Bx=(t,e,r)=>{const n=Fx(r),s=zx();return async(i,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,le(le({},a),{},{headers:u}))}};function qx(t){return t.endsWith("/")?t:t+"/"}function Wx(t,e){var r,n;const{db:s,auth:i,realtime:a,global:o}=t,{db:l,auth:u,realtime:c,global:h}=e,f={db:le(le({},l),s),auth:le(le({},u),i),realtime:le(le({},c),a),storage:{},global:le(le(le({},h),o),{},{headers:le(le({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function Kx(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(qx(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Vx=class extends Ox{constructor(t){super(t)}},Hx=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const i=Kx(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,o={db:Ix,realtime:$x,auth:le(le({},Ux),{},{storageKey:a}),global:Ax},l=Wx(r??{},o);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=Bx(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(le({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new Cw(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new k_(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new xw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:o,debug:l,throwOnError:u},c,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Vx({url:this.authUrl.href,headers:le(le({},f),c),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:o,debug:l,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new qw(this.realtimeUrl.href,le(le({},t),{},{params:le(le({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Gx=(t,e,r)=>new Hx(t,e,r);function Qx(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Qx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Jx="https://ghrvavcnqhneigsrqzri.supabase.co",Yx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdocnZhdmNucWhuZWlnc3JxenJpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg5OTYwMjMsImV4cCI6MjA4NDU3MjAyM30.StEGnyG1jkWjVhdczffPBosQO7aMMwFT2C-T9J-9dHg",Fe=Gx(Jx,Yx),jn=800,Xx=.85,Zx=t=>new Promise((e,r)=>{const n=new Image,s=document.createElement("canvas"),i=s.getContext("2d");n.onload=()=>{let{width:a,height:o}=n;(a>jn||o>jn)&&(a>o?(o=o/a*jn,a=jn):(a=a/o*jn,o=jn)),s.width=a,s.height=o,i==null||i.drawImage(n,0,0,a,o),s.toBlob(l=>{l?e(l):r(new Error("Failed to create blob"))},"image/jpeg",Xx)},n.onerror=()=>r(new Error("Failed to load image")),n.src=URL.createObjectURL(t)}),eS=async t=>{if(!t)return null;if(t.startsWith("http"))return t;const{data:e,error:r}=await Fe.storage.from("photos").createSignedUrl(t,3600);return r?(console.error("Signed URL error:",r),null):e.signedUrl},tS=async(t,e)=>{try{const r=await Zx(t),s=`members/${`${e}-${Date.now()}.jpg`}`,{error:i}=await Fe.storage.from("photos").upload(s,r,{upsert:!0,contentType:"image/jpeg"});return i?(console.error("Upload error:",i),null):s}catch(r){return console.error("Resize/Upload error:",r),null}},Dh=async t=>{const{error:e}=await Fe.storage.from("photos").remove([t]);return e?(console.error("Delete error:",e),!1):!0},rS=t=>t==="prayer789",nS=t=>t==="admin456",Ac=async()=>{const{data:t,error:e}=await Fe.from("small_groups").select("*").order("name");if(e)throw e;return t||[]},sS=async t=>{const{data:e,error:r}=await Fe.from("small_groups").insert({name:t}).select().single();if(r)throw r;return e},iS=async(t,e)=>{const{data:r,error:n}=await Fe.from("small_groups").update({name:e}).eq("id",t).select().single();if(n)throw n;return r},aS=async t=>{const{error:e}=await Fe.from("small_groups").delete().eq("id",t);if(e)throw e},Zm=async()=>{const{data:t,error:e}=await Fe.from("members").select(`
      *,
      small_group:small_groups(*),
      prayer_requests(*)
    `).order("updated_at",{ascending:!1});if(e)throw e;return(t||[]).map(r=>{var n;return{...r,prayer_requests:(n=r.prayer_requests)==null?void 0:n.sort((s,i)=>new Date(s.created_at).getTime()-new Date(i.created_at).getTime())}})},eg=async t=>{const{data:e,error:r}=await Fe.from("members").select(`
      *,
      small_group:small_groups(*),
      prayer_requests(*)
    `).eq("id",t).single();if(r){if(r.code==="PGRST116")return null;throw r}return e!=null&&e.prayer_requests&&e.prayer_requests.sort((n,s)=>new Date(n.created_at).getTime()-new Date(s.created_at).getTime()),e},oS=async t=>{const{data:e,error:r}=await Fe.from("members").insert(t).select().single();if(r)throw r;return e},lS=async(t,e)=>{const{data:r,error:n}=await Fe.from("members").update(e).eq("id",t).select().single();if(n)throw n;return r},uS=async t=>{const{error:e}=await Fe.from("members").delete().eq("id",t);if(e)throw e},cS=async(t,e)=>{const{data:r,error:n}=await Fe.from("prayer_requests").insert({member_id:t,content:e}).select().single();if(n)throw n;return r},dS=async(t,e)=>{const{data:r,error:n}=await Fe.from("prayer_requests").update({content:e}).eq("id",t).select().single();if(n)throw n;return r},hS=async t=>{const{error:e}=await Fe.from("prayer_requests").delete().eq("id",t);if(e)throw e};function ks({name:t,outlined:e=!0,className:r=""}){const n=e?"material-icons-outlined":"material-icons";return d.jsx("span",{className:`${n} ${r}`,children:t})}function tg({className:t="text-2xl"}){return d.jsx(ks,{name:"volunteer_activism",className:t})}function fS({className:t="text-2xl"}){return d.jsx(ks,{name:"lock",className:t})}function pS({className:t="text-2xl"}){return d.jsx(ks,{name:"auto_awesome",className:t})}function mS({className:t="text-2xl"}){return d.jsx(ks,{name:"description",className:t})}function rg({className:t="text-2xl"}){return d.jsx(ks,{name:"error_outline",className:t})}function ng({className:t="text-2xl"}){return d.jsx(ks,{name:"chevron_left",className:t})}function gS(){const[t,e]=k.useState(""),[r,n]=k.useState(""),{login:s}=wn(),i=a=>{a.preventDefault(),n(""),rS(t)?s():n("  ")};return d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:d.jsxs("div",{className:"w-full max-w-sm animate-fade-in-up",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-2xl icon-bg flex items-center justify-center",children:d.jsx(tg,{className:"text-4xl icon-color"})}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"13th Friend  "})]}),d.jsxs("form",{onSubmit:i,className:"card",children:[d.jsxs("div",{className:"mb-5",children:[d.jsxs("label",{htmlFor:"password",className:"label flex items-center gap-1",children:[d.jsx("span",{className:"material-icons-outlined text-base",children:"lock"}),""]}),d.jsx("input",{id:"password",type:"password",value:t,onChange:a=>e(a.target.value),placeholder:" ",className:"input",autoFocus:!0})]}),r&&d.jsxs("div",{className:"mb-4 p-3 rounded-xl bg-red-50 text-red-600 text-sm flex items-center gap-2 border border-red-100",children:[d.jsx("span",{className:"material-icons text-lg",children:"error"}),r]}),d.jsxs("button",{type:"submit",disabled:!t,className:"btn-primary w-full",children:[d.jsx("span",{className:"material-icons-outlined text-lg",children:"login"}),""]})]})]})})}function yS(){const[t,e]=k.useState(""),[r,n]=k.useState(""),{setAdminMode:s}=wn(),i=fo(),a=o=>{o.preventDefault(),n(""),nS(t)?(s(!0),i("/admin")):n("   ")};return d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:d.jsxs("div",{className:"w-full max-w-sm animate-fade-in-up",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-2xl icon-bg flex items-center justify-center",children:d.jsx(fS,{className:"text-4xl icon-color"})}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:" "}),d.jsx("p",{className:"text-gray-500",children:"  "})]}),d.jsxs("form",{onSubmit:a,className:"card",children:[d.jsxs("div",{className:"mb-5",children:[d.jsxs("label",{htmlFor:"admin-password",className:"label flex items-center gap-1",children:[d.jsx("span",{className:"material-icons-outlined text-base",children:"admin_panel_settings"})," "]}),d.jsx("input",{id:"admin-password",type:"password",value:t,onChange:o=>e(o.target.value),placeholder:"  ",className:"input",autoFocus:!0})]}),r&&d.jsxs("div",{className:"mb-4 p-3 rounded-xl bg-red-50 text-red-600 text-sm flex items-center gap-2 border border-red-100",children:[d.jsx("span",{className:"material-icons text-lg",children:"error"}),r]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("button",{type:"submit",disabled:!t,className:"btn-primary w-full",children:[d.jsx("span",{className:"material-icons-outlined text-lg",children:"login"}),""]}),d.jsxs("button",{type:"button",onClick:()=>i("/"),className:"btn-secondary w-full",children:[d.jsx("span",{className:"material-icons-outlined text-lg",children:"arrow_back"}),""]})]})]})]})})}const Ic={pastor:"",leader:"",sub_leader:""},Uc={pastor:"star",leader:"groups",sub_leader:"person"},Ha={pastor:0,leader:1,sub_leader:2};function Nt({children:t}){const{isAdmin:e,logout:r,setAdminMode:n}=wn(),s=vn();return d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:d.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6",children:d.jsxs("div",{className:"flex items-center justify-between h-16",children:[d.jsxs(Pt,{to:"/",className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-9 h-9 rounded-lg icon-bg flex items-center justify-center",children:d.jsx(tg,{className:"text-xl icon-color"})}),d.jsx("span",{className:"font-bold text-gray-900",children:"13th Friend  "})]}),d.jsxs("nav",{className:"flex items-center gap-1",children:[e?d.jsxs(d.Fragment,{children:[d.jsxs(Pt,{to:"/admin",className:`flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${s.pathname==="/admin"?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50"}`,children:[d.jsx("span",{className:"material-icons-outlined text-lg",children:"settings"}),d.jsx("span",{className:"hidden sm:inline",children:""})]}),d.jsxs("button",{onClick:()=>n(!1),className:"flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-50 transition-colors",children:[d.jsx("span",{className:"material-icons-outlined text-lg",children:"logout"}),d.jsx("span",{className:"hidden sm:inline",children:" "})]})]}):d.jsxs(Pt,{to:"/admin-login",className:"flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-50 transition-colors",children:[d.jsx("span",{className:"material-icons-outlined text-lg",children:"admin_panel_settings"}),d.jsx("span",{className:"hidden sm:inline",children:""})]}),d.jsxs("button",{onClick:r,className:"flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors",children:[d.jsx("span",{className:"material-icons-outlined text-lg",children:"power_settings_new"}),d.jsx("span",{className:"hidden sm:inline",children:""})]})]})]})})}),d.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-8",children:t}),d.jsx("footer",{className:"bg-white border-t border-gray-200 py-8 mt-auto",children:d.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 text-center",children:[d.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[d.jsx("span",{className:"material-icons-outlined text-xl text-gray-400",children:"church"}),d.jsx("span",{className:"text-gray-600 font-medium",children:"13th Friend  "})]}),d.jsxs("p",{className:"text-sm text-gray-400 flex items-center justify-center gap-1",children:[" ",d.jsx("span",{className:"material-icons text-red-400 text-sm",children:"favorite"})]})]})})]})}const Mh=new Map;function $c(t){const[e,r]=k.useState(null),[n,s]=k.useState(!1);return k.useEffect(()=>{if(!t){r(null);return}if(t.startsWith("http")){r(t);return}const i=Mh.get(t);if(i&&i.expiry>Date.now()+6e5){r(i.url);return}s(!0),eS(t).then(a=>{a&&(Mh.set(t,{url:a,expiry:Date.now()+3e6}),r(a))}).finally(()=>s(!1))},[t]),{signedUrl:e,isLoading:n}}const Su="scroll_position";function vS(){const t=vn();k.useEffect(()=>{if(t.pathname==="/"||t.pathname===""){const e=sessionStorage.getItem(Su);e&&(setTimeout(()=>{window.scrollTo(0,parseInt(e,10))},100),sessionStorage.removeItem(Su))}},[t.pathname])}function wS(){sessionStorage.setItem(Su,window.scrollY.toString())}function Fh({member:t,isRecent:e,showGroup:r=!1,index:n=0}){var l,u,c,h,f;const{isAdmin:s}=wn(),{signedUrl:i}=$c(t.photo_url),a=(l=t.prayer_requests)==null?void 0:l[0],o=y=>{const v=new Date(y),S=new Date().getTime()-v.getTime(),m=Math.floor(S/(1e3*60*60*24));return m===0?"":m===1?"":m<7?`${m} `:m<14?"1 ":v.toLocaleDateString("ko-KR",{month:"short",day:"numeric"})};return d.jsx(Pt,{to:s?`/member/${t.id}/edit`:`/member/${t.id}`,className:`card group block animate-fade-in-up stagger-${Math.min(n+1,6)}`,onClick:wS,children:d.jsxs("div",{className:"flex gap-4",children:[d.jsx("div",{className:"flex-shrink-0",children:i?d.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 rounded-2xl overflow-hidden bg-gray-100",style:{backgroundImage:`url(${i})`,backgroundPosition:`${((u=t.photo_position)==null?void 0:u.x)||50}% ${((c=t.photo_position)==null?void 0:c.y)||50}%`,backgroundSize:`${(((h=t.photo_position)==null?void 0:h.zoom)??1)*100}%`,backgroundRepeat:"no-repeat"}}):d.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 rounded-2xl icon-bg flex items-center justify-center",children:d.jsx("span",{className:"material-icons-outlined icon-color text-4xl sm:text-5xl",children:"person"})})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-800 group-hover:text-gray-600 transition-colors",children:t.name}),d.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1 flex-shrink-0",children:[d.jsx("span",{className:"material-icons-outlined text-sm",children:"schedule"}),o(t.updated_at)]})]}),d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsxs("span",{className:"chip text-xs py-0.5 px-2 inline-flex items-center gap-1 whitespace-nowrap",children:[d.jsx("span",{className:"material-icons text-xs leading-none",children:Uc[t.role]}),Ic[t.role]]}),e&&d.jsxs("span",{className:"chip-accent text-xs py-0.5 px-2 inline-flex items-center gap-1 whitespace-nowrap",children:[d.jsx("span",{className:"material-icons text-xs leading-none",children:"auto_awesome"}),""]})]}),r&&((f=t.small_group)==null?void 0:f.name)&&d.jsxs("p",{className:"text-sm text-gray-500 mb-1 flex items-center gap-1",children:[d.jsx("span",{className:"material-icons-outlined text-base",children:"groups"}),t.small_group.name]}),a&&d.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 leading-relaxed",children:a.content}),t.prayer_requests&&t.prayer_requests.length>1&&d.jsxs("div",{className:"mt-2 inline-flex items-center gap-1 px-2.5 py-1 rounded-full bg-blue-50 text-blue-600 text-xs font-medium",children:[d.jsx("span",{className:"material-icons text-sm",children:"format_list_bulleted"})," ",t.prayer_requests.length," "]})]})]})})}function yo(){return d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsx("div",{className:"w-8 h-8 border-2 border-gray-200 border-t-gray-600 rounded-full animate-spin"})})}function _S(){vS();const{data:t,isLoading:e}=mn({queryKey:["members"],queryFn:Zm}),{data:r,isLoading:n}=mn({queryKey:["smallGroups"],queryFn:Ac}),s=e||n,i=k.useMemo(()=>{if(!t)return[];const u=new Date;return u.setDate(u.getDate()-14),t.filter(c=>new Date(c.updated_at)>=u).sort((c,h)=>new Date(h.updated_at).getTime()-new Date(c.updated_at).getTime())},[t]),a=k.useMemo(()=>new Set(i.map(u=>u.id)),[i]),o=u=>[...u].sort((c,h)=>{const f=Ha[c.role]-Ha[h.role];return f!==0?f:c.name.localeCompare(h.name,"ko")}),l=k.useMemo(()=>{if(!r||!t)return new Map;const u=new Map;return[...r].sort((h,f)=>h.name.localeCompare(f.name,"ko")).forEach(h=>{const f=t.filter(y=>y.small_group_id===h.id);u.set(h.name,o(f))}),u},[r,t]);return s?d.jsx(Nt,{children:d.jsx(yo,{})}):d.jsxs(Nt,{children:[i.length>0&&d.jsxs("section",{className:"mb-8 p-5 bg-blue-50/50 rounded-2xl border border-blue-100",children:[d.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(pS,{className:"text-xl text-blue-500"})," ",d.jsx("span",{className:"text-sm font-normal text-gray-400 ml-1",children:" 2"})]}),d.jsx("div",{className:"space-y-3",children:i.map((u,c)=>d.jsx(Fh,{member:u,isRecent:!0,showGroup:!0,index:c},u.id))})]}),l.size>0?d.jsx("div",{className:"space-y-6",children:Array.from(l.entries()).map(([u,c])=>d.jsxs("section",{className:"p-5 bg-white rounded-2xl border border-gray-200",children:[d.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx("span",{className:"material-icons-outlined text-xl text-gray-400",children:"groups"}),u,d.jsxs("span",{className:"text-sm font-normal text-gray-400 ml-1",children:[c.length,""]})]}),c.length>0?d.jsx("div",{className:"space-y-3",children:c.map((h,f)=>d.jsx(Fh,{member:h,index:f,isRecent:a.has(h.id)},h.id))}):d.jsxs("div",{className:"text-center py-6 text-gray-400",children:[d.jsx("span",{className:"material-icons-outlined text-3xl mb-2",children:"person_off"}),d.jsx("p",{className:"text-sm",children:"  "})]})]},u))}):d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx(mS,{className:"text-6xl text-gray-300"})}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"   "}),d.jsx("p",{className:"text-gray-500",children:"    "})]})]})}function xS(){var a,o,l,u;const{id:t}=Om(),{data:e,isLoading:r,error:n}=mn({queryKey:["member",t],queryFn:()=>eg(t),enabled:!!t}),{signedUrl:s}=$c(e==null?void 0:e.photo_url);if(r)return d.jsx(Nt,{children:d.jsx(yo,{})});if(n||!e)return d.jsx(Nt,{children:d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx(rg,{className:"text-6xl text-gray-300"})}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"   "}),d.jsx(Pt,{to:"/",className:"text-blue-600 hover:text-blue-700",children:" "})]})});const i=c=>new Date(c).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"});return d.jsxs(Nt,{children:[d.jsx("div",{className:"mb-6",children:d.jsxs(Pt,{to:"/",className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 transition-colors",children:[d.jsx(ng,{className:"text-lg"}),""]})}),d.jsx("div",{className:"card mb-6",children:d.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start gap-6",children:[s?d.jsx("div",{className:"w-56 h-56 sm:w-64 sm:h-64 rounded-3xl flex-shrink-0 overflow-hidden bg-gray-100",style:{backgroundImage:`url(${s})`,backgroundPosition:`${((a=e.photo_position)==null?void 0:a.x)||50}% ${((o=e.photo_position)==null?void 0:o.y)||50}%`,backgroundSize:`${(((l=e.photo_position)==null?void 0:l.zoom)??1)*100}%`,backgroundRepeat:"no-repeat"}}):d.jsx("div",{className:"w-56 h-56 sm:w-64 sm:h-64 rounded-3xl icon-bg flex-shrink-0 flex items-center justify-center",children:d.jsx("span",{className:"material-icons-outlined icon-color text-8xl",children:"person"})}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:e.name}),d.jsxs("span",{className:"text-base px-3 py-1 rounded-full bg-gray-100 text-gray-600 inline-flex items-center gap-1",children:[d.jsx("span",{className:"material-icons text-base",children:Uc[e.role]}),Ic[e.role]]})]}),d.jsx("p",{className:"text-lg text-gray-500 mb-4",children:(u=e.small_group)==null?void 0:u.name}),d.jsxs("p",{className:"text-base text-gray-400",children:[" : ",i(e.updated_at)]})]})]})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:""}),e.prayer_requests&&e.prayer_requests.length>0?d.jsx("div",{className:"space-y-4",children:e.prayer_requests.map((c,h)=>d.jsx("div",{className:"card",children:d.jsxs("div",{className:"flex gap-4",children:[d.jsx("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-base font-medium text-gray-500",children:h+1}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-lg text-gray-700 whitespace-pre-wrap leading-relaxed",children:c.content}),d.jsx("p",{className:"text-sm text-gray-400 mt-3",children:i(c.updated_at)})]})]})},c.id))}):d.jsx("div",{className:"card text-center py-8",children:d.jsx("p",{className:"text-lg text-gray-500",children:"  "})})]})]})}function SS({currentPhotoUrl:t,photoPosition:e,onPhotoChange:r,onPositionChange:n,onPhotoRemove:s}){const[i,a]=k.useState(null),[o,l]=k.useState(!1),[u,c]=k.useState(!1),[h,f]=k.useState(!1),[y,v]=k.useState({x:50,y:50,zoom:1}),_=k.useRef(null),{signedUrl:S}=$c(t),m=u?null:i||S,p=e.zoom??1,g=U=>{var N;const b=(N=U.target.files)==null?void 0:N[0];if(b){const L=URL.createObjectURL(b);a(L),c(!1),r(b),v({x:50,y:50,zoom:1}),f(!0)}},x=U=>{U.preventDefault(),l(!0)},E=()=>{l(!1)},C=U=>{var N;U.preventDefault(),l(!1);const b=(N=U.dataTransfer.files)==null?void 0:N[0];if(b&&b.type.startsWith("image/")){const L=URL.createObjectURL(b);a(L),c(!1),r(b),v({x:50,y:50,zoom:1}),f(!0)}},j=()=>{a(null),c(!0),r(null),s==null||s()},R=()=>{v({...e,zoom:e.zoom??1}),f(!0)},F=(U,b)=>{const N=_.current;if(!N)return null;const L=N.getBoundingClientRect();return{startX:U,startY:b,startPosX:y.x,startPosY:y.y,rect:L}},O=(U,b,N)=>{const L=U-N.startX,G=b-N.startY,Z=100/N.rect.width*2,At=Math.max(0,Math.min(100,N.startPosX-L*Z)),It=Math.max(0,Math.min(100,N.startPosY-G*Z));v(Es=>({...Es,x:Math.round(At),y:Math.round(It)}))},q=U=>{U.preventDefault();const b=F(U.clientX,U.clientY);if(!b)return;const N=G=>{O(G.clientX,G.clientY,b)},L=()=>{document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",L)};document.addEventListener("mousemove",N),document.addEventListener("mouseup",L)},Te=U=>{if(U.touches.length!==1)return;const b=U.touches[0],N=F(b.clientX,b.clientY);if(!N)return;const L=Z=>{if(Z.touches.length!==1)return;Z.preventDefault();const At=Z.touches[0];O(At.clientX,At.clientY,N)},G=()=>{document.removeEventListener("touchmove",L),document.removeEventListener("touchend",G)};document.addEventListener("touchmove",L,{passive:!1}),document.addEventListener("touchend",G)},ve=(U,b)=>{v(N=>({...N,x:Math.max(0,Math.min(100,N.x+U)),y:Math.max(0,Math.min(100,N.y+b))}))},z=U=>{const b=parseFloat(U.target.value);v(N=>({...N,zoom:b}))},J=()=>{n(y),f(!1)},we=()=>{f(!1)};return d.jsxs("div",{className:"space-y-3",children:[d.jsx("label",{className:"label",children:" "}),m?d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:"relative w-32 h-32 rounded-2xl overflow-hidden border-2 border-gray-200 cursor-pointer hover:border-blue-400 transition-colors",onClick:R,style:{backgroundImage:`url(${m})`,backgroundPosition:`${e.x}% ${e.y}%`,backgroundSize:`${p*100}%`,backgroundRepeat:"no-repeat"},children:d.jsx("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/20 transition-colors flex items-center justify-center",children:d.jsx("span",{className:"material-icons text-white opacity-0 hover:opacity-100 text-2xl drop-shadow-lg",children:"edit"})})}),d.jsxs("button",{type:"button",onClick:R,className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[d.jsx("span",{className:"material-icons-outlined text-sm",children:"crop"}),"/ "]}),d.jsxs("button",{type:"button",onClick:j,className:"text-sm text-red-600 hover:text-red-700 flex items-center gap-1",children:[d.jsx("span",{className:"material-icons-outlined text-sm",children:"delete"})," "]})]}):d.jsxs("div",{className:`border-2 border-dashed rounded-2xl p-6 text-center transition-colors ${o?"border-blue-400 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onDragOver:x,onDragLeave:E,onDrop:C,children:[d.jsx("div",{className:"text-gray-400 mb-3",children:d.jsx("span",{className:"material-icons-outlined text-4xl",children:"add_photo_alternate"})}),d.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"   "}),d.jsxs("label",{className:"btn-secondary text-sm cursor-pointer inline-flex items-center gap-1",children:[d.jsx("span",{className:"material-icons-outlined text-lg",children:"upload"})," ",d.jsx("input",{type:"file",accept:"image/*",onChange:g,className:"hidden"})]}),d.jsx("p",{className:"text-xs text-gray-400 mt-3",children:" 800px  "})]}),h&&m&&hm.createPortal(d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:d.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-xl animate-fade-in-up",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" "}),d.jsx("button",{onClick:we,className:"text-gray-400 hover:text-gray-600",children:d.jsx("span",{className:"material-icons",children:"close"})})]}),d.jsxs("div",{ref:_,className:"relative w-full aspect-square rounded-2xl overflow-hidden cursor-grab active:cursor-grabbing border-2 border-gray-200 mb-4 touch-none select-none",onMouseDown:q,onTouchStart:Te,style:{backgroundImage:`url(${m})`,backgroundPosition:`${y.x}% ${y.y}%`,backgroundSize:`${y.zoom*100}%`,backgroundRepeat:"no-repeat",backgroundColor:"#f3f4f6"},children:[d.jsx("div",{className:"absolute w-4 h-4 bg-white border-2 border-blue-500 rounded-full transform -translate-x-1/2 -translate-y-1/2 pointer-events-none shadow-lg",style:{left:`${y.x}%`,top:`${y.y}%`}}),d.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[d.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-px bg-white/30"}),d.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-px bg-white/30"})]})]}),d.jsxs("p",{className:"text-xs text-gray-500 mb-3 flex items-center gap-1",children:[d.jsx("span",{className:"material-icons-outlined text-sm",children:"pan_tool"}),"  "]}),d.jsx("div",{className:"flex justify-center mb-4",children:d.jsxs("div",{className:"inline-flex flex-col items-center gap-1",children:[d.jsx("button",{type:"button",onClick:()=>ve(0,-5),className:"w-10 h-10 rounded-lg bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors",children:d.jsx("span",{className:"material-icons text-gray-600",children:"keyboard_arrow_up"})}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{type:"button",onClick:()=>ve(-5,0),className:"w-10 h-10 rounded-lg bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors",children:d.jsx("span",{className:"material-icons text-gray-600",children:"keyboard_arrow_left"})}),d.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-50 flex items-center justify-center",children:d.jsx("span",{className:"material-icons text-gray-300 text-sm",children:"fiber_manual_record"})}),d.jsx("button",{type:"button",onClick:()=>ve(5,0),className:"w-10 h-10 rounded-lg bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors",children:d.jsx("span",{className:"material-icons text-gray-600",children:"keyboard_arrow_right"})})]}),d.jsx("button",{type:"button",onClick:()=>ve(0,5),className:"w-10 h-10 rounded-lg bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors",children:d.jsx("span",{className:"material-icons text-gray-600",children:"keyboard_arrow_down"})})]})}),d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("span",{className:"material-icons-outlined text-sm text-gray-400",children:"zoom_out"}),d.jsx("input",{type:"range",min:"1",max:"2.5",step:"0.1",value:y.zoom,onChange:z,className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-500"}),d.jsx("span",{className:"material-icons-outlined text-sm text-gray-400",children:"zoom_in"}),d.jsxs("span",{className:"text-sm text-gray-600 w-14 text-right font-medium",children:[Math.round(y.zoom*100),"%"]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:we,className:"btn-secondary flex-1",children:""}),d.jsx("button",{onClick:J,className:"btn-primary flex-1",children:""})]})]})}),document.body)]})}function kS(){const{id:t}=Om(),e=fo(),r=co(),[n,s]=k.useState(""),[i,a]=k.useState("sub_leader"),[o,l]=k.useState(""),[u,c]=k.useState(null),[h,f]=k.useState({x:50,y:50,zoom:1}),[y,v]=k.useState(!1),[_,S]=k.useState([]),[m,p]=k.useState(""),[g,x]=k.useState(!1),{data:E,isLoading:C}=mn({queryKey:["member",t],queryFn:()=>eg(t),enabled:!!t}),{data:j,isLoading:R}=mn({queryKey:["smallGroups"],queryFn:Ac});k.useEffect(()=>{E&&(s(E.name),a(E.role),l(E.small_group_id),f(E.photo_position||{x:50,y:50,zoom:1}),S(E.prayer_requests||[]),v(!1))},[E]);const F=Tn({mutationFn:async()=>{if(!t)return;let z=E==null?void 0:E.photo_url;const J=E==null?void 0:E.photo_url;if(y&&!u)J&&!J.startsWith("http")&&await Dh(J),z=null;else if(u){J&&!J.startsWith("http")&&await Dh(J);const we=await tS(u,t);we&&(z=we)}await lS(t,{name:n,role:i,small_group_id:o,photo_url:z,photo_position:h})},onSuccess:()=>{r.invalidateQueries({queryKey:["members"]}),r.invalidateQueries({queryKey:["member",t]})}}),O=async()=>{if(!(!m.trim()||!t))try{const z=await cS(t,m.trim());S([..._,z]),p(""),r.invalidateQueries({queryKey:["members"]})}catch(z){console.error("Failed to add prayer request:",z)}},q=async(z,J)=>{try{await dS(z,J),S(_.map(we=>we.id===z?{...we,content:J}:we)),r.invalidateQueries({queryKey:["members"]})}catch(we){console.error("Failed to update prayer request:",we)}},Te=async z=>{if(confirm("  ?"))try{await hS(z),S(_.filter(J=>J.id!==z)),r.invalidateQueries({queryKey:["members"]})}catch(J){console.error("Failed to delete prayer request:",J)}},ve=async()=>{x(!0);try{await F.mutateAsync(),e("/")}catch(z){console.error("Failed to save:",z),alert(" .")}finally{x(!1)}};return C||R?d.jsx(Nt,{children:d.jsx(yo,{})}):E?d.jsxs(Nt,{children:[d.jsx("div",{className:"mb-6",children:d.jsxs(Pt,{to:"/",className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 transition-colors",children:[d.jsx(ng,{className:"text-lg"}),""]})}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"  "}),d.jsxs("div",{className:"card mb-6",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:" "}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(SS,{currentPhotoUrl:E.photo_url,photoPosition:h,onPhotoChange:c,onPositionChange:f,onPhotoRemove:()=>v(!0)}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:""}),d.jsx("input",{type:"text",value:n,onChange:z=>s(z.target.value),className:"input"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:""}),d.jsx("select",{value:o,onChange:z=>l(z.target.value),className:"input",children:j==null?void 0:j.map(z=>d.jsx("option",{value:z.id,children:z.name},z.id))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:""}),d.jsxs("select",{value:i,onChange:z=>a(z.target.value),className:"input",children:[d.jsx("option",{value:"pastor",children:""}),d.jsx("option",{value:"leader",children:""}),d.jsx("option",{value:"sub_leader",children:""})]})]})]})]}),d.jsxs("div",{className:"card mb-6",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),d.jsxs("div",{className:"mb-6",children:[d.jsx("textarea",{value:m,onChange:z=>p(z.target.value),placeholder:"  ",className:"input min-h-[100px] mb-2"}),d.jsx("button",{type:"button",onClick:O,disabled:!m.trim(),className:"btn-secondary text-sm",children:"+  "})]}),d.jsx("div",{className:"space-y-4",children:_.map((z,J)=>d.jsx(ES,{request:z,index:J,onUpdate:q,onDelete:Te},z.id))}),_.length===0&&d.jsx("p",{className:"text-center text-gray-500 py-4",children:"  "})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:ve,disabled:g,className:"btn-primary flex-1",children:g?" ...":""}),d.jsx(Pt,{to:"/",className:"btn-secondary",children:""})]})]}):d.jsx(Nt,{children:d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx(rg,{className:"text-6xl text-gray-300"})}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"   "}),d.jsx(Pt,{to:"/",className:"text-blue-600 hover:text-blue-700",children:" "})]})})}function ES({request:t,index:e,onUpdate:r,onDelete:n}){const[s,i]=k.useState(!1),[a,o]=k.useState(t.content),l=()=>{r(t.id,a),i(!1)},u=()=>{o(t.content),i(!1)};return d.jsx("div",{className:"p-4 rounded-lg bg-gray-50",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gray-200 flex items-center justify-center text-sm font-medium text-gray-600",children:e+1}),d.jsx("div",{className:"flex-1",children:s?d.jsxs("div",{children:[d.jsx("textarea",{value:a,onChange:c=>o(c.target.value),className:"input min-h-[80px] mb-2"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:l,className:"btn-primary text-sm py-1",children:""}),d.jsx("button",{onClick:u,className:"btn-secondary text-sm py-1",children:""})]})]}):d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:t.content}),d.jsxs("div",{className:"flex gap-2 mt-2",children:[d.jsx("button",{onClick:()=>i(!0),className:"text-sm text-gray-500 hover:text-gray-700",children:""}),d.jsx("button",{onClick:()=>n(t.id),className:"text-sm text-red-500 hover:text-red-700",children:""})]})]})})]})})}function bS(){const t=co(),[e,r]=k.useState(null),[n,s]=k.useState(""),[i,a]=k.useState(null),[o,l]=k.useState(""),[u,c]=k.useState("sub_leader"),[h,f]=k.useState(!1),[y,v]=k.useState(""),{data:_,isLoading:S}=mn({queryKey:["smallGroups"],queryFn:Ac}),{data:m,isLoading:p}=mn({queryKey:["members"],queryFn:Zm}),g=Tn({mutationFn:sS,onSuccess:()=>{t.invalidateQueries({queryKey:["smallGroups"]}),v(""),f(!1)}}),x=Tn({mutationFn:({id:U,name:b})=>iS(U,b),onSuccess:()=>{t.invalidateQueries({queryKey:["smallGroups"]}),r(null)}}),E=Tn({mutationFn:aS,onSuccess:()=>{t.invalidateQueries({queryKey:["smallGroups"]}),t.invalidateQueries({queryKey:["members"]})}}),C=Tn({mutationFn:oS,onSuccess:()=>{t.invalidateQueries({queryKey:["members"]}),a(null),l(""),c("sub_leader")}}),j=Tn({mutationFn:uS,onSuccess:()=>{t.invalidateQueries({queryKey:["members"]})}}),R=()=>{y.trim()&&g.mutate(y.trim())},F=U=>{r(U),s(U.name)},O=()=>{e&&n.trim()&&x.mutate({id:e.id,name:n.trim()})},q=U=>{confirm(`"${U.name}"  ?
    .`)&&E.mutate(U.id)},Te=U=>{a(U),l(""),c("sub_leader")},ve=()=>{o.trim()&&i&&C.mutate({name:o.trim(),role:u,small_group_id:i})},z=U=>{confirm(`"${U.name}"  ?`)&&j.mutate(U.id)},J=U=>m?m.filter(b=>b.small_group_id===U).sort((b,N)=>{const L=Ha[b.role]-Ha[N.role];return L!==0?L:b.name.localeCompare(N.name,"ko")}):[],we=(_==null?void 0:_.slice().sort((U,b)=>U.name.localeCompare(b.name,"ko")))||[];return S||p?d.jsx(Nt,{children:d.jsx(yo,{})}):d.jsxs(Nt,{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:""}),d.jsxs("div",{className:"space-y-6",children:[we.length>0?we.map(U=>d.jsxs("div",{className:"card",children:[d.jsx("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-gray-100",children:(e==null?void 0:e.id)===U.id?d.jsxs("div",{className:"flex-1 flex gap-2",children:[d.jsx("input",{type:"text",value:n,onChange:b=>s(b.target.value),className:"input flex-1",autoFocus:!0,onKeyDown:b=>b.key==="Enter"&&O()}),d.jsx("button",{onClick:O,className:"btn-primary text-sm",children:""}),d.jsx("button",{onClick:()=>r(null),className:"btn-secondary text-sm",children:""})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"material-icons-outlined text-gray-400",children:"groups"}),d.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:U.name}),d.jsxs("span",{className:"text-sm text-gray-400",children:["(",J(U.id).length,")"]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:()=>F(U),className:"text-sm text-gray-500 hover:text-gray-700 flex items-center gap-1",children:[d.jsx("span",{className:"material-icons-outlined text-sm",children:"edit"}),""]}),d.jsxs("button",{onClick:()=>q(U),className:"text-sm text-red-500 hover:text-red-700 flex items-center gap-1",children:[d.jsx("span",{className:"material-icons-outlined text-sm",children:"delete"}),""]})]})]})}),d.jsxs("div",{className:"space-y-2",children:[J(U.id).map(b=>d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"material-icons-outlined text-gray-400 text-lg",children:"person"}),d.jsx("span",{className:"font-medium text-gray-900",children:b.name}),d.jsxs("span",{className:"chip text-xs py-0.5 px-2 inline-flex items-center gap-1",children:[d.jsx("span",{className:"material-icons text-xs leading-none",children:Uc[b.role]}),Ic[b.role]]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Pt,{to:`/member/${b.id}/edit`,className:"text-sm text-blue-600 hover:text-blue-700",children:""}),d.jsx("button",{onClick:()=>z(b),className:"text-sm text-red-500 hover:text-red-700",children:""})]})]},b.id)),J(U.id).length===0&&!i&&d.jsx("p",{className:"text-center text-gray-400 py-4 text-sm",children:"  "}),i===U.id?d.jsxs("div",{className:"p-4 rounded-lg bg-blue-50 border border-blue-100 space-y-3",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:o,onChange:b=>l(b.target.value),placeholder:"",className:"input flex-1",autoFocus:!0,onKeyDown:b=>b.key==="Enter"&&ve()}),d.jsxs("select",{value:u,onChange:b=>c(b.target.value),className:"input w-28",children:[d.jsx("option",{value:"pastor",children:""}),d.jsx("option",{value:"leader",children:""}),d.jsx("option",{value:"sub_leader",children:""})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:ve,disabled:!o.trim()||C.isPending,className:"btn-primary text-sm",children:""}),d.jsx("button",{onClick:()=>a(null),className:"btn-secondary text-sm",children:""})]})]}):d.jsxs("button",{onClick:()=>Te(U.id),className:"w-full p-3 rounded-lg border-2 border-dashed border-gray-200 text-gray-500 hover:border-blue-300 hover:text-blue-600 transition-colors flex items-center justify-center gap-1 text-sm",children:[d.jsx("span",{className:"material-icons-outlined text-lg",children:"person_add"}),"  "]})]})]},U.id)):d.jsxs("div",{className:"card text-center py-8",children:[d.jsx("span",{className:"material-icons-outlined text-5xl text-gray-300 mb-3",children:"folder_off"}),d.jsx("p",{className:"text-gray-500",children:"  "}),d.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"    "})]}),h?d.jsxs("div",{className:"card",children:[d.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx("span",{className:"material-icons-outlined text-gray-400",children:"add_circle"}),"  "]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:y,onChange:U=>v(U.target.value),placeholder:" ",className:"input flex-1",autoFocus:!0,onKeyDown:U=>U.key==="Enter"&&R()}),d.jsx("button",{onClick:R,disabled:!y.trim()||g.isPending,className:"btn-primary",children:""}),d.jsx("button",{onClick:()=>f(!1),className:"btn-secondary",children:""})]})]}):d.jsxs("button",{onClick:()=>f(!0),className:"w-full p-4 rounded-2xl border-2 border-dashed border-gray-300 text-gray-500 hover:border-blue-400 hover:text-blue-600 transition-colors flex items-center justify-center gap-2",children:[d.jsx("span",{className:"material-icons-outlined",children:"add"}),"  "]})]})]})}function tl({children:t}){const{isAuthenticated:e}=wn();return e?d.jsx(d.Fragment,{children:t}):d.jsx(gi,{to:"/login",replace:!0})}function zh({children:t}){const{isAuthenticated:e,isAdmin:r}=wn();return e?r?d.jsx(d.Fragment,{children:t}):d.jsx(gi,{to:"/",replace:!0}):d.jsx(gi,{to:"/login",replace:!0})}function CS(){const{isAuthenticated:t}=wn();return d.jsxs(aw,{children:[d.jsx(rr,{path:"/login",element:t?d.jsx(gi,{to:"/",replace:!0}):d.jsx(gS,{})}),d.jsx(rr,{path:"/admin-login",element:d.jsx(tl,{children:d.jsx(yS,{})})}),d.jsx(rr,{path:"/",element:d.jsx(tl,{children:d.jsx(_S,{})})}),d.jsx(rr,{path:"/member/:id",element:d.jsx(tl,{children:d.jsx(xS,{})})}),d.jsx(rr,{path:"/member/:id/edit",element:d.jsx(zh,{children:d.jsx(kS,{})})}),d.jsx(rr,{path:"/admin",element:d.jsx(zh,{children:d.jsx(bS,{})})}),d.jsx(rr,{path:"*",element:d.jsx(gi,{to:"/",replace:!0})})]})}function jS(){return d.jsx(yw,{children:d.jsx(CS,{})})}const TS=new r0({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1}}});fm(document.getElementById("root")).render(d.jsx(k.StrictMode,{children:d.jsx(n0,{client:TS,children:d.jsx(fw,{basename:"/prayer-requests",children:d.jsx(jS,{})})})}));
